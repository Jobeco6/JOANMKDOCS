<!-- overrides/main.html -->

<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../raids5/">
      
      
        <link rel="next" href="../seract/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Monitoratge i Logs - Joan Bertomeu Colom茅 - 1r ASIX</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../overrides/footer.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#monitoratge-i-logs" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Joan Bertomeu Colom茅 - 1r ASIX" class="md-header__button md-logo" aria-label="Joan Bertomeu Colom茅 - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Joan Bertomeu Colom茅 - 1r ASIX
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Monitoratge i Logs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B煤squeda" placeholder="B煤squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b煤squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pesta帽as" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../instalacio/" class="md-tabs__link">
          
  
  Sprint 1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../usuaris/" class="md-tabs__link">
          
  
  Sprint 2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ldap/" class="md-tabs__link">
          
  
  Sprint 3

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../raids1/" class="md-tabs__link">
          
  
  Sprint 4

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Sprint 5

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegaci贸n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Joan Bertomeu Colom茅 - 1r ASIX" class="md-nav__button md-logo" aria-label="Joan Bertomeu Colom茅 - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Joan Bertomeu Colom茅 - 1r ASIX
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sprint 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../instalacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal路laci贸
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../llicencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licenciament del Programari
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../puntsrestauracio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Punts de restauraci贸
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../conf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuraci贸 bsica de xarxes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../timeshift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal路laci贸 del timeshift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pinning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pinning packet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../arrancada/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestors d'arrancada i sistemes d'emmagatzematge
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sprint 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../usuaris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesti贸 d'usuaris
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fitxers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitxers importants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../procesos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesti贸 de procesos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../permisos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permisos en linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sisfitpart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sistemes de fitxers i particions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gestioparticions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesti贸 de particions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../auto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatitzaci贸 amb Cron i Anacron
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../copies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C貌pies de Seguretat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sprint 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal路laci贸 LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../unirldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrar un client amb LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gestioldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesti贸 del Servei LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Samba
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ldapgui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LDAP amb entorn grfic
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Sprint 4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../raids1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuraci贸 de RAID 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../raids5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raids5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 5
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Sprint 5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Monitoratge i Logs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Monitoratge i Logs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-son-els-logs" class="md-nav__link">
    Qu猫 s贸n els Logs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importancia-del-monitoratge-i-dels-logs" class="md-nav__link">
    Importncia del Monitoratge i dels Logs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubicacio-dels-logs-i-configuracio-de-la-seva-rotacio" class="md-nav__link">
    Ubicaci贸 dels Logs i configuraci贸 de la seva rotaci贸
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analisi-de-logs" class="md-nav__link">
    Anlisi de logs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logs-personalitzats" class="md-nav__link">
    Logs personalitzats
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installacio-grafana" class="md-nav__link">
    Instal路laci贸 grafana
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../seract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servidor d'Actualitzacions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../auditoria/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditoria de Seguretat per a Linux amb Lynis 
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="monitoratge-i-logs">Monitoratge i Logs</h1>
<p>El monitoratge 茅s el proc茅s d'observar i analitzar el comportament d'un sistema en temps real. Aquesta prctica t茅 com a objectiu detectar incid猫ncies, optimitzar el rendiment i assegurar el manteniment adequat dels serveis. Algunes t猫cniques habituals inclouen:</p>
<ul>
<li><strong>Recollida de dades:</strong> Mesurar parmetres com la crrega del sistema, l'煤s de la CPU, la mem貌ria, etc.</li>
<li><strong>Alertes:</strong> Notificar en cas d'esdeveniments an貌mals o fallades.</li>
<li><strong>Visualitzaci贸:</strong> Utilitzar grfics i taulers de control per a una anlisi rpida.</li>
</ul>
<h2 id="que-son-els-logs">Qu猫 s贸n els Logs?</h2>
<p>Els logs s贸n registres cronol貌gics que documenten els esdeveniments que es produeixen en un sistema. S贸n essencials per a:</p>
<ul>
<li><strong>Diagnosi de problemes:</strong> Permeten investigar errors i incid猫ncies.</li>
<li><strong>Auditoria:</strong> Aporten un historial que ajuda a entendre qu猫 va passar en certs moments.</li>
<li><strong>Seguretat:</strong> Identifiquen accessos no autoritzats o comportaments sospitosos.</li>
</ul>
<p>Els logs poden ser generats automticament per diversos components del sistema com serveis, aplicacions i servidors.</p>
<h2 id="importancia-del-monitoratge-i-dels-logs">Importncia del Monitoratge i dels Logs</h2>
<ul>
<li>Millora la capacitat de resposta davant incidents.</li>
<li>Facilita la recerca de problemes i la seva resoluci贸.</li>
<li>Proporciona informaci贸 clau per a la presa de decisions en manteniment i actualitzaci贸 del sistema.</li>
</ul>
<p>Aquestes eines s贸n fonamentals per a garantir l'estabilitat i la seguretat d'entorns complexos.</p>
<h2 id="ubicacio-dels-logs-i-configuracio-de-la-seva-rotacio">Ubicaci贸 dels Logs i configuraci贸 de la seva rotaci贸</h2>
<p>Els logs habitualment es guarden en localitzacions espec铆fiques segons el sistema operatiu i la configuraci贸 del software. Algunes ubicacions comunes s贸n:</p>
<ul>
<li><strong>En sistemes basats en Linux/Unix:</strong><br />
    La majoria dels logs residiran al directori <code>/var/log</code>.  <ul>
<li>Per exemple, es poden trobar ara logs del sistema en arxius com <code>/var/log/syslog</code> o <code>/var/log/messages</code>.  </li>
<li>Els logs d'autenticaci贸 solen estar a <code>/var/log/auth.log</code>.</li>
</ul>
</li>
</ul>
<p><img alt="alt text" src="../custom%203/monitoratge/1.png" width="80%" /></p>
<p>Dintre de la carpeta /etc/ si fem un <strong>nano logrotate.conf</strong> podrem observar l'arxiu de configuraci贸 de rotaci贸 de logs.</p>
<p><img alt="alt text" src="../custom%203/monitoratge/2.png" width="80%" /></p>
<p>En cas que necessitem una configuraci贸 ene spec铆fic, ens hem de situar a la carpeta <strong>/etc/logrotate.d/</strong></p>
<p><img alt="alt text" src="../custom%203/monitoratge/3.png" width="80%" /></p>
<p>Com podem veure, la configuraci贸 del bootlog est establerta perqu猫 la vagi rotant cada 7 d铆es.</p>
<p><img alt="alt text" src="../custom%203/monitoratge/4.png" width="80%" /></p>
<h2 id="analisi-de-logs">Anlisi de logs</h2>
<p>Per analitzar els logs, es pot comen莽ar amb eines bsiques, com la comanda <code>cat</code>, que permet visualitzar rpidament el contingut d'un fitxer. No obstant aix貌, per a una anlisi m茅s profunda, <strong>journalctl</strong> es presenta com una soluci贸 molt potent.</p>
<p>Amb <strong>journalctl</strong> pots aplicar filtres temporals especificant els parmetres <code>--since</code> i <code>--until</code>, cosa que facilita extreure nom茅s els esdeveniments rellevants dins d'un interval de temps determinat. Aquesta funcionalitat permet obtenir una visi贸 m茅s acurada dels esdeveniments del sistema, millorant la capacitat per resoldre incid猫ncies i optimitzar el rendiment.</p>
<p>Aquesta metodologia no nom茅s amplia la comprensi贸 del comportament del sistema, sin贸 que tamb茅 agilita la diagnosi de problemes en entorns de producci贸 o de prova.</p>
<p>Aqu铆 podem comprovar que hi ha infinits logs</p>
<p><img alt="alt text" src="../custom%203/monitoratge/5.png" width="80%" /></p>
<p>Per a veure els logs de algun servei, podem utilitzar </p>
<pre><code>journalctl -xeu &quot;nom_servei&quot;
</code></pre>
<p>En el meu cas, he utilitzat com a exemple el cron.service</p>
<p><img alt="alt text" src="../custom%203/monitoratge/6.png" width="80%" /></p>
<h2 id="logs-personalitzats">Logs personalitzats</h2>
<p>Amb logs personalitzats, tens la llibertat de reconfigurar completament el comportament i les alertes dels logs del sistema per adaptar-los a les teves necessitats espec铆fiques. Aix貌 et permet:</p>
<ul>
<li><strong>Canviar la configuraci贸 per defecte:</strong> Personalitza les regles i el format dels logs.</li>
<li><strong>Gestionar diferents tipus de logs:</strong> Defineix com semmagatzemen i es processa cada tipus dinformaci贸.</li>
<li><strong>Enviar logs a un servidor centralitzat:</strong> Utilitza eines com Samba o SCP per unificar la recollida de dades.</li>
</ul>
<p>Tot i que configurar-ho manualment pot resultar complex, una soluci贸 moderna 茅s integrar els logs amb <strong>Grafana</strong>. Aquesta eina facilita la visualitzaci贸 i l'anlisi centralitzada mitjan莽ant panells interactius i grfics dinmics.</p>
<blockquote>
<p>Per exemple, per ajustar la configuraci贸 dels logs, simplement edita el fitxer del <em>rsyslog</em> i adaptal a les teves prefer猫ncies.</p>
</blockquote>
<pre><code>nano /etc/rsyslog.d/50-default.conf
</code></pre>
<p>Aqu铆 podem canviar la destinaci贸 dels fitxers dels logs. </p>
<p><img alt="alt text" src="../custom%203/monitoratge/7.png" width="80%" /></p>
<p>Per simular una alerta de mail i comprovar on es guarda aquest log, es pot executar la comanda:</p>
<p><img alt="alt text" src="../custom%203/monitoratge/8.png" width="80%" /></p>
<p>I per a veure el log podem fer la seg眉ent comanda:</p>
<pre><code>cat /var/log/mail.log
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/9.png" width="80%" /></p>
<h2 id="installacio-grafana">Instal路laci贸 grafana</h2>
<p>Per comen莽ar, instal路lem grafana amb les seg眉ents comandes:</p>
<pre><code>sudo apt install -y software-properties-common
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/10.png" width="80%" /></p>
<pre><code>sudo add-apt-repository &quot;deb https://packages.grafana.com/oss/deb stable main&quot;
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/11.png" width="80%" /></p>
<pre><code>wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/12.png" width="80%" /></p>
<pre><code>sudo apt install -y grafana
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/13.png" width="80%" /></p>
<p>Un cop ja haguesim fet aquestes comandes, hem d'niciar el servei de grafana amb les seg眉ents comandes</p>
<pre><code>sudo systemctl enable grafana-server
</code></pre>
<pre><code>sudo systemctl start grafana-server
</code></pre>
<p>I per acabar podem fer un status per a comprovar que s'hagi posat en "enable"</p>
<pre><code>sudo systemctl status grafana-server.service
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/14.png" width="80%" /></p>
<p>I per a entrar a grafana, obrim un navegador i introduim el seg眉ent:</p>
<pre><code>http://[La nostra IP]:3000
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/15.png" width="80%" /></p>
<p>IMPORTANT: La contrasenya i usuari per defecte 茅s admin admin</p>
<h1 id="installacio-de-loki">Instal路laci贸 de Loki</h1>
<p>Loki 茅s una eina de agregaci贸 i centralitzaci贸 de logs desenvolupada per Grafana Labs. La seva arquitectura optimitzada permet recollir i indexar logs de manera eficient, facilitant-ne la visualitzaci贸 a trav茅s de Grafana.</p>
<h2 id="passos-per-a-la-installacio">Passos per a la instal路laci贸</h2>
<ol>
<li><strong>Descarregar Loki</strong><br />
    Obt茅 l'煤ltima versi贸 des de la pgina de GitHub:
    <code>wget https://github.com/grafana/loki/releases/download/v2.7.1/loki-linux-amd64.zip</code></li>
</ol>
<p><img alt="alt text" src="../custom%203/monitoratge/16.png" width="80%" /></p>
<ol>
<li><strong>Extracci贸 i instal路laci贸</strong><br />
    Descomprimeix el fitxer i mou el binari a /usr/local/bin:
    <code>sudo unzip loki-linux-amd64.zip -d /usr/local/bin
    sudo chmod +x /usr/local/bin/loki-linux-amd64</code></li>
</ol>
<p><img alt="alt text" src="../custom%203/monitoratge/17.png" width="80%" /></p>
<p><img alt="alt text" src="../custom%203/monitoratge/18.png" width="80%" /></p>
<ol>
<li>
<p><strong>Configurar Loki</strong><br />
    Crea un fitxer de configuraci贸 bsic (ex.: /etc/loki-config.yaml) amb el seg眉ent contingut:
    ```
    auth_enabled: false</p>
<p>server:
  http_listen_port: 3100</p>
<p>common:
ring:
instance_addr: 127.0.0.1
kvstore:
    store: inmemory
    replication_factor: 1
    path_prefix: /tmp/loki</p>
<p>schema_config:
  configs:
     - from: 2020-05-15
        store: tsdb
        object_store: filesystem
        schema: v13
        index:
          prefix: index_
          period: 24h</p>
<p>storage_config:
  boltdb:
     directory: /tmp/loki/chunks
```
<img alt="alt text" src="../custom%203/monitoratge/19.png" width="80%" /></p>
</li>
</ol>
<p>Ara, creem el deamon del loki</p>
<pre><code>wget https://github.com/grafana/loki/releases/latest/download/loki-linux-amd64.zip
</code></pre>
<pre><code>unzip loki-linux-amd64.zip
</code></pre>
<pre><code>sudo mv loki-linux-amd64 /usr/local/bin/loki
</code></pre>
<pre><code>sudo chmod +x /usr/local/bin/loki
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/20.png" width="80%" /></p>
<p><img alt="alt text" src="../custom%203/monitoratge/21.png" width="80%" /></p>
<p>Creaci贸 del fitxer:</p>
<pre><code>sudo nano /etc/systemd/system/loki.service
</code></pre>
<p><img alt="alt text" src="../custom%203/monitoratge/22.png" width="80%" /></p>
<p><img alt="alt text" src="../custom%203/monitoratge/23.png" width="80%" /></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Volver al principio
          </button>
        
      </main>
      
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document amb Footer</title>
    <link rel="stylesheet" href="footer.css">
</head>

<!-- overrides/footer.html -->
<footer style="display: flex; justify-content: space-between; align-items: center;">
    <p>Joan Bertomeu Colom茅</p>
    <a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../custom/by-sa.png" alt="Reconeixement-NoComercial" width="200"/></a>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>