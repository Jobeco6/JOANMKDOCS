<!-- overrides/main.html -->

<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../copies/">
      
      
        <link rel="next" href="../unirldap/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Instal·lació LDAP - Joan Bertomeu Colomé - 1r ASIX</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../overrides/footer.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installacio-ldap" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Joan Bertomeu Colomé - 1r ASIX" class="md-header__button md-logo" aria-label="Joan Bertomeu Colomé - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Joan Bertomeu Colomé - 1r ASIX
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instal·lació LDAP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../instalacio/" class="md-tabs__link">
          
  
  Sprint 1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../usuaris/" class="md-tabs__link">
          
  
  Sprint 2

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Sprint 3

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Joan Bertomeu Colomé - 1r ASIX" class="md-nav__button md-logo" aria-label="Joan Bertomeu Colomé - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Joan Bertomeu Colomé - 1r ASIX
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sprint 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../instalacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../llicencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licenciament del Programari
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../puntsrestauracio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Punts de restauració
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../conf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració bàsica de xarxes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../timeshift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació del timeshift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pinning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pinning packet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../arrancada/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestors d'arrancada i sistemes d'emmagatzematge
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sprint 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../usuaris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió d'usuaris
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fitxers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitxers importants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../procesos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de procesos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../permisos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permisos en linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sisfitpart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sistemes de fitxers i particions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gestioparticions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de particions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../auto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatització amb Cron i Anacron
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../copies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Còpies de Seguretat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sprint 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Instal·lació LDAP
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Instal·lació LDAP
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-es-ldap" class="md-nav__link">
    Què és LDAP?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-un-domini" class="md-nav__link">
    Què és un domini?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usos-de-ldap" class="md-nav__link">
    Usos de LDAP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-son-els-fitxers-ldif" class="md-nav__link">
    Què són els fitxers LDIF?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacio-dun-domini-amb-ldap" class="md-nav__link">
    Creació d'un domini amb LDAP
  </a>
  
    <nav class="md-nav" aria-label="Creació d'un domini amb LDAP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#establir-una-ip-estatica" class="md-nav__link">
    Establir una IP estàtica
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canviar-el-hostname" class="md-nav__link">
    Canviar el hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installacions-necessaries-ldap" class="md-nav__link">
    Instal·lacions necessàries LDAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificacio-inicial-ldap" class="md-nav__link">
    Verificació inicial LDAP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracio-ldap" class="md-nav__link">
    Configuració LDAP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fitxers-ldif" class="md-nav__link">
    Fitxers LDIF
  </a>
  
    <nav class="md-nav" aria-label="Fitxers LDIF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacio-del-fitxer-usuldif" class="md-nav__link">
    Creació del fitxer usu.ldif
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#carregar-fitxers-ldif-al-servidor-ldap" class="md-nav__link">
    Carregar fitxers .ldif al servidor LDAP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../unirldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrar un client amb LDAP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="installacio-ldap">Instal·lació LDAP</h1>
<h2 id="que-es-ldap">Què és LDAP?</h2>
<p>LDAP (Lightweight Directory Access Protocol) és un protocol que permet accedir i gestionar serveis d'informació de directori distribuïts en una xarxa IP. És útil per organitzar i administrar informació com usuaris, grups, dispositius i altres recursos dins d'una xarxa.</p>
<h2 id="que-es-un-domini">Què és un domini?</h2>
<p>Un domini és una unitat administrativa dins d'una xarxa que organitza i gestiona recursos com usuaris, grups, dispositius i altres objectes. Els dominis permeten aplicar polítiques de seguretat, gestionar permisos i autenticar usuaris de manera centralitzada. En un entorn LDAP, un domini es defineix per un nom de domini complet (FQDN) i pot contenir múltiples unitats organitzatives (OUs) que ajuden a estructurar i segmentar els recursos de manera lògica.</p>
<h2 id="usos-de-ldap">Usos de LDAP</h2>
<p>LDAP s'utilitza en diverses situacions, incloent:</p>
<ul>
<li><strong>Autenticació d'usuaris</strong>: LDAP permet centralitzar l'autenticació dels usuaris en una xarxa, facilitant la gestió de credencials.</li>
<li><strong>Gestió de recursos</strong>: Permet administrar dispositius, aplicacions i altres recursos de manera centralitzada.</li>
<li><strong>Directori d'empresa</strong>: Utilitzat per mantenir un directori d'empleats, incloent informació de contacte i posicions.</li>
<li><strong>Control d'accés</strong>: Facilita la implementació de polítiques de seguretat i control d'accés a diferents recursos de la xarxa.</li>
<li><strong>Integració amb altres serveis</strong>: LDAP es pot integrar amb altres serveis com correu electrònic, VPNs, i aplicacions empresarials per proporcionar una gestió unificada.</li>
</ul>
<p>En aquest cas, utilitzarem <code>slapcat</code>, que serveix per exportar el contingut d'una base de dades LDAP a un fitxer en format LDIF (LDAP Data Interchange Format). Aquest format és un estàndard per representar dades LDAP en text pla, el que facilita la seva lectura i manipulació.</p>
<h2 id="que-son-els-fitxers-ldif">Què són els fitxers LDIF?</h2>
<p>Els fitxers LDIF (LDAP Data Interchange Format) són fitxers de text pla utilitzats per representar dades d'un directori LDAP. Aquests fitxers permeten exportar i importar informació de manera estàndard, facilitant la transferència de dades entre diferents sistemes LDAP. Un fitxer LDIF conté una sèrie d'entrades, cadascuna de les quals representa un objecte del directori, com ara usuaris, grups o dispositius. Cada entrada inclou una sèrie d'atributs i els seus valors corresponents.</p>
<h2 id="creacio-dun-domini-amb-ldap">Creació d'un domini amb LDAP</h2>
<h3 id="establir-una-ip-estatica">Establir una IP estàtica</h3>
<p>El primer que farem és establir una IP estàtica al sistema per evitar possibles errors en el futur. Si la IP canvia, hauríem de modificar els fitxers de configuració. En aquest cas, la meva IP és 10.0.2.14, però podeu utilitzar qualsevol altra que us convingui.</p>
<p><img alt="Configuració IP estàtica" src="../custom2/ldap1.png" width="70%" /></p>
<h3 id="canviar-el-hostname">Canviar el hostname</h3>
<p>Per canviar el nom de la màquina, podem utilitzar la següent comanda:</p>
<pre><code class="language-bash">sudo nano /etc/hostname
</code></pre>
<p><img alt="Canvi del hostname" src="../custom2/ldap2.png" width="70%" /></p>
<p>Afegirem el nom i la IP al fitxer <code>/etc/hosts</code> perquè el sistema pugui reconèixer el nom del servidor i el domini:</p>
<pre><code class="language-bash">sudo nano /etc/hosts
</code></pre>
<p><img alt="Configuració del fitxer hosts" src="../custom2/ldap3.png" width="70%" /></p>
<h3 id="installacions-necessaries-ldap">Instal·lacions necessàries LDAP</h3>
<p>Ara que tenim la configuració inicial finalitzada, començarem amb la instal·lació de paquets essencials per treballar amb LDAP:</p>
<pre><code class="language-bash">sudo apt install slapd ldap-utils
</code></pre>
<p><img alt="Instal·lació de paquets LDAP" src="../custom2/ldap4.png" width="70%" /></p>
<h3 id="verificacio-inicial-ldap">Verificació inicial LDAP</h3>
<p>Després d'executar la comanda <code>slapcat</code>, es pot veure que el directori no està completament buit. Conté una configuració mínima inicial amb el domini <code>dc=nodomain</code>. Això indica que el servidor LDAP està funcionant, però encara no s'ha configurat adequadament.</p>
<p><img alt="Verificació inicial amb slapcat" src="../custom2/ldap5.png" width="70%" /></p>
<h2 id="configuracio-ldap">Configuració LDAP</h2>
<p>Per configurar el servidor LDAP, utilitzarem:</p>
<pre><code class="language-bash">sudo dpkg-reconfigure slapd
</code></pre>
<p>Seguirem els següents passos:</p>
<ol>
<li>
<p>Seleccionem "No" per continuar amb la configuració
<img alt="Inici de la configuració" src="../custom2/ldap7.png" width="70%" /></p>
</li>
<li>
<p>Assignem un nom al domini
<img alt="Configuració del domini" src="../custom2/ldap6.png" width="70%" /></p>
</li>
<li>
<p>Introduïm el nom de l'organització
<img alt="Nom de l'organització" src="../custom2/ldap8.png" width="70%" /></p>
</li>
<li>
<p>Assignem una contrasenya d'administrador
<img alt="Configuració de contrasenya" src="../custom2/ldap9.png" width="70%" /></p>
</li>
<li>
<p>Eliminem la base de dades anterior
<img alt="Eliminació de la BD" src="../custom2/ldap10.png" width="70%" /></p>
</li>
<li>
<p>Movem la base de dades antiga
<img alt="Moure la BD antiga" src="../custom2/ldap11.png" width="70%" /></p>
</li>
</ol>
<p>Un cop finalitzada la configuració, podem verificar que tot s'ha creat correctament:</p>
<p><img alt="Verificació de la configuració" src="../custom2/ldap12.png" width="70%" /></p>
<p>Comprovem la configuració amb <code>slapcat</code>:</p>
<p><img alt="Comprovació amb slapcat" src="../custom2/ldap13.png" width="70%" /></p>
<h2 id="fitxers-ldif">Fitxers LDIF</h2>
<p>Els fitxers LDIF són essencials per definir i importar dades en un servidor LDAP. Per exemple, per crear una Unitat Organitzativa (OU) anomenada "users", creem un fitxer <code>uo.ldif</code> amb els següents elements:</p>
<ul>
<li><strong>dn (Distinguished Name)</strong>: Especifica la ubicació única de l'objecte</li>
<li><strong>objectClass</strong>: Defineix el tipus d'objecte</li>
<li><strong>ou</strong>: Indica el nom de la unitat organitzativa</li>
</ul>
<p><img alt="Exemple de fitxer LDIF" src="../custom2/ldap14.png" width="70%" /></p>
<p>Creació del fitxer grup.ldif</p>
<p>El fitxer grup.ldif defineix un grup dins del nostre servidor LDAP. Aquest grup serà associat a una Unitat Organitzativa (OU) ja existent (en aquest cas, users). Aquí detallem els paràmetres utilitzats:</p>
<p>alt text</p>
<p>dn (Distinguished Name): Identifica de manera única el grup (cn=alumnes,ou=users,dc=vitaliy,dc=com).
objectClass: Defineix el tipus d'objecte (en aquest cas, posixGroup, per a grups POSIX).
cn: Nom del grup (alumnes).
gidNumber: Identificador únic del grup (1001).
memberUid: Usuaris membres del grup (en aquest cas, alu1).
Aquest fitxer es pot importar al servidor LDAP per crear i gestionar grups d’usuaris, facilitant l’organització i la configuració d’accés.</p>
<p><img alt="Exemple de fitxer LDIF" src="../custom2/ldap15.png" width="70%" /></p>
<h3 id="creacio-del-fitxer-usuldif">Creació del fitxer usu.ldif</h3>
<p>El fitxer <code>usu.ldif</code> s'utilitza per crear i configurar usuaris dins del servidor LDAP. Aquest fitxer conté els paràmetres bàsics necessaris per definir un compte d'usuari, però es pot ampliar amb informació addicional com correu electrònic, número de telèfon, etc.</p>
<ul>
<li><strong>dn (Distinguished Name)</strong>: Identifica de manera única l'usuari dins del directori</li>
<li><strong>objectClass</strong>: Defineix les classes associades a l'usuari:</li>
<li>inetOrgPerson i organizationalPerson per a dades personals i organitzatives</li>
<li>posixAccount i shadowAccount per a compatibilitat amb sistemes POSIX i gestió de contrasenyes</li>
<li><strong>userPassword</strong>: Contrasenya de l'usuari (en format encriptat és recomanable)</li>
<li><strong>cn</strong>: Nom complet de l'usuari (exemple: Primer)</li>
<li><strong>sn</strong>: Cognom de l'usuari (exemple: Alumne1)</li>
<li><strong>gidNumber</strong>: Identificador del grup al qual pertany l'usuari (exemple: 1001)</li>
<li><strong>uidNumber</strong>: Identificador únic de l'usuari (exemple: 1001)</li>
<li><strong>homeDirectory</strong>: Directori personal de l'usuari (exemple: /home/alu1)</li>
<li><strong>loginShell</strong>: Shell predeterminada de l'usuari (exemple: /bin/bash)</li>
<li><strong>shadowExpire, shadowLastChange, shadowMax, shadowMin, shadowWarning</strong>: Paràmetres relacionats amb la caducitat i gestió de contrasenyes
Aquest fitxer es pot utilitzar per afegir l'usuari al directori LDAP mitjançant comandes com ldapadd. A més, es poden incloure atributs addicionals, com correu electrònic o telèfon, segons les necessitats de l'organització.</li>
</ul>
<p><img alt="Exemple de fitxer LDIF" src="../custom2/ldap16.png" width="70%" /></p>
<h3 id="carregar-fitxers-ldif-al-servidor-ldap">Carregar fitxers .ldif al servidor LDAP</h3>
<p>Un cop creats els fitxers .ldif, el següent pas és carregar-los al servidor LDAP. Aquest procés permet crear els objectes definits (unitats organitzatives, grups i usuaris) dins del directori.</p>
<p>Per fer-ho, utilitzarem la comanda <code>ldapadd</code>:</p>
<pre><code class="language-bash">ldapadd -c -x -D &quot;cn=admin,dc=paquirrinisalive,dc=cat&quot; -W -f &lt;nom_fitxer&gt;
</code></pre>
<p>Els paràmetres utilitzats són:</p>
<ul>
<li><code>-c</code>: Continua processant malgrat errors</li>
<li><code>-x</code>: Utilitza autenticació simple</li>
<li><code>-D</code>: Especifica el DN de l'administrador</li>
<li><code>-W</code>: Sol·licita la contrasenya interactivament</li>
<li><code>-f</code>: Indica el fitxer .ldif a carregar</li>
</ul>
<p>Aquesta comanda s'ha d'executar per cada fitxer .ldif que vulguem carregar (uo.ldif, grup.ldif, usu.ldif).</p>
<p><img alt="Exemple de fitxer LDIF" src="../custom2/ldap17.png" width="70%" /></p>
<p>Per acabar, fem una comprovació final</p>
<p><img alt="Exemple de fitxer LDIF" src="../custom2/ldap18.png" width="70%" /></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Volver al principio
          </button>
        
      </main>
      
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document amb Footer</title>
    <link rel="stylesheet" href="footer.css">
</head>

<!-- overrides/footer.html -->
<footer style="display: flex; justify-content: space-between; align-items: center;">
    <p>Joan Bertomeu Colomé</p>
    <a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="../custom/by-sa.png" alt="Reconeixement-NoComercial" width="200"/></a>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>