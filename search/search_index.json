{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>En aquesta web, presentarem un guia detallada sobre com instal\u00b7lar el sistema operatiu Ubuntu 22 utilitzant VirtualBox, una eina de virtualitzaci\u00f3 molt utilitzada tant en entorns professionals com personals. A trav\u00e9s d'aquest proc\u00e9s, aprendrem a crear una m\u00e0quina virtual des de zero, permetent-nos experimentar amb Ubuntu sense afectar el sistema operatiu principal de l'ordinador.</p> <p>La instal\u00b7laci\u00f3 es dur\u00e0 a terme de manera manual, oferint una comprensi\u00f3 m\u00e9s profunda de cada pas. A m\u00e9s, abordarem la import\u00e0ncia de la recuperaci\u00f3 del sistema en cas d'errors d'arrencada, utilitzant eines com Super Grub2 Disk. Tamb\u00e9 explorarem la configuraci\u00f3 de xarxes amb Netplan, una eina essencial per gestionar connexions de xarxa en Ubuntu, i la creaci\u00f3 de c\u00f2pies de seguretat amb Timeshift, garantint que les vostres dades estiguin protegides.</p> <p>Aquesta p\u00e0gina web \u00e9s ideal tant per a usuaris nous que volen familiaritzar-se amb Ubuntu com per a usuaris m\u00e9s experimentats que busquen una forma de mantenir un entorn de treball segur i eficient. Amb aquests passos, podreu configurar un entorn funcional de treball amb Ubuntu 22 en poc temps i amb facilitat.</p>"},{"location":"arrancada/","title":"Gestors d'arrancada i sistemes d'emmagatzematge","text":""},{"location":"arrancada/#introduccio","title":"Introducci\u00f3","text":"<p>El gestor d'arrancada \u00e9s una part del software que ajuda al disc en l'execuci\u00f3 de c\u00e0rrega del sistema opreatiu. Aix\u00f2 permet tenir diferents sistemes operatius instal\u00b7lats dintre d'un mateix equip. </p> <p>No obstant, aix\u00f2 sovint pot arribar a donar problemes o ser complex per a que un usuari normal pugui configurar-ho</p>"},{"location":"auditoria/","title":"Auditoria de Seguretat per a Linux amb Lynis","text":"<p>Amb Lynis, pots dur a terme una auditoria completa del teu sistema Linux o Unix, ideal tant per a entorns personals com per a servidors. Aquesta eina analitza cada rac\u00f3 del sistema per identificar vulnerabilitats i proporcionar recomanacions per a una protecci\u00f3 refor\u00e7ada.</p>"},{"location":"auditoria/#caracteristiques-principals","title":"Caracter\u00edstiques Principals","text":"<ul> <li> <p>Compatibilitat Extensa     Funciona de manera \u00f2ptima amb m\u00faltiples distribucions com Ubuntu, Debian, Arch Linux, Fedora, OpenSUSE, entre altres.</p> </li> <li> <p>An\u00e0lisi Integral     Realitza una revisi\u00f3 detallada de configuracions, serveis, processos i aplicacions per assegurar una defensa robusta.</p> </li> <li> <p>Detecci\u00f3 de Vulnerabilitats     Examina \u00e0rees clau com ara firewalls, bases de dades, criptografia, xarxes, i boot loaders per identificar riscos potencials.</p> </li> <li> <p>Recomanacions Proactives     Ofereix solucions concretes per optimitzar la seguretat, ajudant-te a millorar cont\u00ednuament el teu sistema.</p> </li> <li> <p>Llic\u00e8ncia Oberta     Llan\u00e7at sota la GNU GPL v3, Lynis fomenta la col\u00b7laboraci\u00f3 i el desenvolupament comunitari.</p> </li> </ul>"},{"location":"auditoria/#installacio-de-lynis","title":"Instal\u00b7laci\u00f3 de Lynis","text":"<p>Instal\u00b7la Lynis f\u00e0cilment amb la seg\u00fcent comanda:</p> <pre><code>sudo apt install lynis -y\n</code></pre>"},{"location":"auditoria/#_1","title":"Auditoria de Seguretat per a Linux amb Lynis","text":""},{"location":"auditoria/#execucio-de-lauditoria","title":"Execuci\u00f3 de l'Auditoria","text":"<p>Per dur a terme una auditoria completa del sistema, executa:</p> <pre><code>sudo lynis audit system\n</code></pre> <p>A mesura que Llanis treballa, et mostrar\u00e0 un \u00edndex interactiu que es va incrementant amb cada recomanaci\u00f3 aplicada.</p> <p></p> <p>A baix de tot podem veure l'\u00edndex.</p> <p></p> <p>I una mica m\u00e9s a dalt del \u00edndex podem veure les recomanacions.</p> <p></p> <p>Amb aquesta comanda corregim alguns paquets restants. </p> <pre><code>sudo apt update &amp;&amp; sudo apt install -y apt-listchanges needrestart fail2ban\n</code></pre> <p></p> <p>I com podem comprova, l'\u00edndex puja de 58 a 60. Anem poc a poc</p> <p></p> <p>Despr\u00e9s d'aix\u00f2 fem un</p> <pre><code>sudo apt-get update\nsudo apt-get upgrade\nsudo apt-get dist-upgrade\n</code></pre> <p>Aix\u00f2 tardar\u00e0 una molt, bona estona. </p> <p></p> <p>Despr\u00e9s d'una llarga espera, obtenim un 4% m\u00e9s</p> <p></p> <p>Despr\u00e9s d'executar v\u00e0ries comandes (chatgpt ens pot ajudar molt a trobar les comandes qu hem d'executar), arribem al 67%.</p> <p></p>"},{"location":"auto/","title":"Automatitzaci\u00f3 amb Cron i Anacron","text":""},{"location":"auto/#introduccio","title":"Introducci\u00f3","text":"<p>En aquest document, explorarem com automatitzar tasques utilitzant Cron i Anacron. Aquestes eines s\u00f3n essencials per a la gesti\u00f3 eficient del temps i la realitzaci\u00f3 de tasques repetitives en sistemes Unix-like.</p>"},{"location":"auto/#cron","title":"Cron","text":"<p>Cron \u00e9s un servei de planificaci\u00f3 de tasques que permet executar scripts o comandes a intervals de temps espec\u00edfics.</p>"},{"location":"auto/#exemple-de-crontab","title":"Exemple de Crontab","text":"<p>Per editar el crontab, utilitzeu la comanda <code>crontab -e</code>. Afegiu la seg\u00fcent l\u00ednia per executar un script cada dia a les 2:30 AM:</p> <pre><code>30 2 * * * /path/to/script.sh\n</code></pre>"},{"location":"auto/#anacron","title":"Anacron","text":"<p>Anacron \u00e9s una eina similar a Cron, per\u00f2 est\u00e0 dissenyada per a sistemes que no estan en funcionament constantment. Assegura que les tasques es completin fins i tot si el sistema est\u00e0 apagat durant el temps programat.</p>"},{"location":"auto/#exemple-de-configuracio-danacron","title":"Exemple de Configuraci\u00f3 d'Anacron","text":"<p>Editeu el fitxer <code>/etc/anacrontab</code> per afegir una tasca que s'executi di\u00e0riament:</p> <pre><code>1   5   cron.daily   run-parts /etc/cron.daily\n</code></pre>"},{"location":"auto/#diferencies-entre-cron-i-anacron","title":"Difer\u00e8ncies entre Cron i Anacron","text":"Caracter\u00edstica Cron Anacron Disponibilitat Necessita que el sistema estigui en funcionament constantment Pot executar tasques encara que el sistema hagi estat apagat Interval de temps Pot programar tasques a intervals de temps espec\u00edfics (minuts, hores, dies, etc.) Generalment utilitzat per a tasques di\u00e0ries, setmanals o mensuals Configuraci\u00f3 Utilitza el fitxer <code>crontab</code> per a la configuraci\u00f3 Utilitza el fitxer <code>/etc/anacrontab</code> per a la configuraci\u00f3 Adequaci\u00f3 Adequat per a servidors i sistemes que funcionen cont\u00ednuament Adequat per a ordinadors personals i port\u00e0tils que no estan sempre en funcionament Execuci\u00f3 de tasques Les tasques es perden si el sistema est\u00e0 apagat en el moment programat Les tasques es recuperen i s'executen quan el sistema es torna a encendre"},{"location":"auto/#quan-utilitzar-cron-o-anacron","title":"Quan utilitzar Cron o Anacron?","text":"<p>Cron i Anacron serveixen per a automatitzar tasques per\u00f2 tenen diverses difer\u00e8ncies. Antigament treballaven per separat per\u00f2 ara treballen conjuntament. Quan utilitzem un o l\u2019altre?</p> <p>Utilitzarem el Cron quan els ordinadors estan oberts i l'Anacron quan sabem que poden estar tancats.</p> <p>Normalment, quan volem que s\u2019executi en un horari concret, utilitzarem el Cron, per\u00f2 quan estem parlant d\u2019una execuci\u00f3 d\u2019una vegada al mes, o quan s\u2019inicie sessi\u00f3 o una vegada a la setmana, utilitzarem l\u2019Anacron.</p> <p>Per a tasques generals i de manteniment del sistema operatiu, millor utilitzar Anacron. L\u2019altre \u00e9s millor per a tasques de cara a l'usuari.</p> <p>Cron: Quan volem fer que s\u2019executi alguna cosa globalment per a tots els usuaris del sistema, ho farem mitjan\u00e7ant el fitxer <code>/etc/crontab</code>. En canvi, quan volem alguna cosa molt particular per a un o dos usuaris, utilitzem la seg\u00fcent comanda:</p> <pre><code>crontab -e -u usuari\n</code></pre>"},{"location":"auto/#fitxers-de-configuracio-rellevants","title":"Fitxers de configuraci\u00f3 rellevants","text":"<ul> <li><code>/etc/anacrontab</code></li> <li><code>/var/spool/anacron/cron.daily</code></li> <li><code>/etc/cron.daily</code></li> <li><code>/etc/cron.hourly</code></li> </ul>"},{"location":"auto/#exemple-cron","title":"Exemple cron","text":"<p>El primer que farem \u00e9s crear dues carpetes dintre del directori d'imatges</p> <p></p> <p>Utilitzarem aquest scrit que ens permet fer una c\u00f2pia de seguretat. Posem que la c\u00f2pia es guardi a l'escriptori</p> <p></p> <p>Ara el que hemde fer \u00e9s assignar permisos amb la comanda:</p> <pre><code>chmod +x copia.sh\n</code></pre> <p></p> <p>Un cop hem donat permisos, ara anirem al arxiu crontab i l'editarem, afegint una nova l\u00ednia fent que d'aqui 2 minuts executi copia.sh</p> <p></p> <ul> <li>El 03 significa el minut</li> <li>El 13 l'hora</li> <li>El 16 el dia</li> <li>L'1 el mes</li> </ul> <p>Aix\u00f2 es pot anar configurant depenent de les necessitats que tinguis.</p> <p></p> <p>Finalment, podem comprovar que tot funciona correctament i que s'ha fet la c\u00f2pia de seguretat a l'escriptori.</p>"},{"location":"auto/#exemple-anacron","title":"Exemple anacron","text":"<p>Per comen\u00e7ar, mourem l'escript al directori /etc/cron.daily/</p> <p></p> <p>Despres de mourel el que hem de fer es borrar el registre de anacron.daily per assegurar-nos de que funciona i comprovar-ho.</p> <p></p> <p>El que hem de fer \u00e9s nomes borrar el contingut de l'arxiu.</p> <p></p> <p>Modifiquem el segon valor (temps en minuts) a 1  per fer que la tasca s'executi nom\u00e9s un minut despr\u00e9s d'iniciar el sistema.</p> <p></p> <p>Despr\u00e9s de reiniciar la m\u00e0quina, 1minut despr\u00e9s ja podem veure un altre cop com ja apareix la c\u00f2pia de seguretat al nostre escriptori.</p>"},{"location":"conf/","title":"Configuraci\u00f3 b\u00e0sica de xarxes","text":"<p>Utilitzem l'eina Netplan, que es una eina utilitzada per gestionar la configuraci\u00f3 de xarxes.</p> <p>Aqui ubiquem l'arxiu amb un ls  i el editem fent un nano.</p> <p></p> <p>Una vegada obrim l'arxiu fent un nano, editem el text de dintre del arciu escribint el mateix que posa a la captura d'avall.</p> <p></p> <p>Fem un sudo netplan apply per a confirmar.</p> <p></p>"},{"location":"copies/","title":"C\u00f2pies de Seguretat","text":"<p>Les c\u00f2pies de seguretat s\u00f3n duplicats de dades importants que es guarden en un lloc segur per tal de protegir-les contra p\u00e8rdues o danys. Aquestes c\u00f2pies es poden utilitzar per restaurar les dades originals en cas de fallada del sistema, errors humans, atacs de programari malici\u00f3s o altres incidents que puguin comprometre la integritat de la informaci\u00f3.</p>"},{"location":"copies/#per-a-que-serveixen-les-copies-de-seguretat","title":"Per a qu\u00e8 serveixen les c\u00f2pies de seguretat?","text":"<ol> <li>Protecci\u00f3 contra p\u00e8rdues de dades: Les c\u00f2pies de seguretat asseguren que les dades es poden recuperar en cas de p\u00e8rdua accidental o intencionada.</li> <li>Recuperaci\u00f3 de sistemes: Permeten restaurar sistemes complets despr\u00e9s d'una fallada cr\u00edtica.</li> <li>Seguretat contra atacs: En cas d'atacs de ransomware o altres tipus de programari malici\u00f3s, les c\u00f2pies de seguretat permeten recuperar les dades sense haver de pagar rescats.</li> <li>Compliment normatiu: Moltes regulacions exigeixen la creaci\u00f3 de c\u00f2pies de seguretat per garantir la protecci\u00f3 de dades sensibles.</li> <li>Tranquil\u00b7litat: Saber que les dades estan segures proporciona una major tranquil\u00b7litat i confian\u00e7a en la gesti\u00f3 de la informaci\u00f3.</li> </ol> <p>\u00c9s important realitzar c\u00f2pies de seguretat de manera regular i emmagatzemar-les en ubicacions segures, preferiblement en diferents formats i llocs f\u00edsics o en el n\u00favol.</p>"},{"location":"copies/#tipus-de-copies-de-seguretat","title":"Tipus de c\u00f2pies de seguretat","text":"<ol> <li> <p>C\u00f2pia completa: Una c\u00f2pia completa \u00e9s una c\u00f2pia de seguretat de totes les dades seleccionades. Aquest tipus de c\u00f2pia \u00e9s el m\u00e9s senzill de restaurar, ja que cont\u00e9 totes les dades en un sol conjunt. S'utilitza quan es necessita una c\u00f2pia \u00edntegra de totes les dades, per\u00f2 requereix m\u00e9s espai d'emmagatzematge i temps per completar-se.</p> </li> <li> <p>C\u00f2pia diferencial: Una c\u00f2pia diferencial inclou nom\u00e9s les dades que han canviat des de l'\u00faltima c\u00f2pia completa. Aix\u00f2 significa que cada c\u00f2pia diferencial creix amb el temps fins que es realitza una nova c\u00f2pia completa. \u00c9s \u00fatil per reduir el temps i l'espai necessaris per a les c\u00f2pies de seguretat, per\u00f2 la restauraci\u00f3 pot ser m\u00e9s complexa, ja que requereix la c\u00f2pia completa m\u00e9s la c\u00f2pia diferencial m\u00e9s recent.</p> </li> <li> <p>C\u00f2pia incremental: Una c\u00f2pia incremental nom\u00e9s inclou les dades que han canviat des de l'\u00faltima c\u00f2pia de seguretat, ja sigui completa o incremental. Aquest tipus de c\u00f2pia \u00e9s molt eficient en termes d'espai i temps, per\u00f2 la restauraci\u00f3 pot ser m\u00e9s complicada, ja que requereix la c\u00f2pia completa inicial i totes les c\u00f2pies incrementals fins al punt de restauraci\u00f3 desitjat.</p> </li> </ol>"},{"location":"copies/#quan-utilitzar-cada-tipus-de-copia-de-seguretat","title":"Quan utilitzar cada tipus de c\u00f2pia de seguretat?","text":"<ul> <li> <p>C\u00f2pia completa: Utilitzeu-la quan necessiteu una c\u00f2pia \u00edntegra de totes les dades i disposeu de suficient espai d'emmagatzematge i temps per completar-la. \u00c9s ideal per a c\u00f2pies de seguretat inicials o peri\u00f2diques (per exemple, setmanals o mensuals).</p> </li> <li> <p>C\u00f2pia diferencial: \u00c9s adequada quan voleu equilibrar el temps i l'espai d'emmagatzematge amb la facilitat de restauraci\u00f3. Pot ser \u00fatil per a c\u00f2pies de seguretat di\u00e0ries despr\u00e9s d'una c\u00f2pia completa setmanal.</p> </li> <li> <p>C\u00f2pia incremental: Utilitzeu-la quan necessiteu c\u00f2pies de seguretat freq\u00fcents (per exemple, di\u00e0ries o fins i tot hor\u00e0ries) i voleu minimitzar l'espai d'emmagatzematge i el temps necessari per a cada c\u00f2pia. \u00c9s ideal per a entorns on les dades canvien constantment i es necessita una protecci\u00f3 cont\u00ednua.</p> </li> </ul>"},{"location":"copies/#eines-per-a-realitzar-copies-de-seguretat","title":"Eines per a realitzar c\u00f2pies de seguretat","text":""},{"location":"copies/#cp","title":"cp","text":"<p><code>cp</code> \u00e9s una eina de l\u00ednia de comandes en sistemes Unix i Linux que s'utilitza per copiar fitxers i directoris d'una ubicaci\u00f3 a una altra. \u00c9s una eina senzilla i f\u00e0cil d'utilitzar per a c\u00f2pies de seguretat b\u00e0siques.</p> <p>Exemple d'\u00fas:</p> <pre><code>cp -r /path/to/source /path/to/destination\n</code></pre> <p>L'opci\u00f3 <code>-r</code> indica que es copien recursivament tots els fitxers i subdirectoris.</p>"},{"location":"copies/#dd","title":"dd","text":"<p><code>dd</code> \u00e9s una eina de l\u00ednia de comandes que s'utilitza per copiar i convertir dades a nivell de blocs. \u00c9s especialment \u00fatil per crear imatges de disc o c\u00f2pies de seguretat de dispositius complets.</p> <p>Exemple d'\u00fas:</p> <pre><code>dd if=/dev/sdX of=/path/to/backup.img bs=4M\n</code></pre> <p>En aquest exemple, <code>if</code> especifica el fitxer d'entrada (el dispositiu de disc) i <code>of</code> especifica el fitxer de sortida (la imatge de c\u00f2pia de seguretat). L'opci\u00f3 <code>bs</code> defineix la mida del bloc.</p>"},{"location":"copies/#rsync","title":"rsync","text":"<p><code>rsync</code> \u00e9s una eina de c\u00f2pia de fitxers i directoris que permet la sincronitzaci\u00f3 eficient de dades entre diferents ubicacions. \u00c9s molt utilitzada per a c\u00f2pies de seguretat perqu\u00e8 nom\u00e9s copia els fitxers que han canviat, estalviant temps i ample de banda.</p> <p>Exemple d'\u00fas:</p> <pre><code>rsync -avz /path/to/source /path/to/destination\n</code></pre> <p>L'opci\u00f3 <code>-a</code> activa el mode arxiu (preserva permisos, propietaris, etc.), <code>-v</code> activa el mode detallat (mostra el proc\u00e9s) i <code>-z</code> comprimeix les dades durant la transfer\u00e8ncia.</p> <p>Aquestes eines s\u00f3n molt \u00fatils per a diferents necessitats de c\u00f2pies de seguretat i poden ser combinades segons els requisits espec\u00edfics de cada entorn.</p>"},{"location":"fitxers/","title":"Fitxers importants","text":"<p>Els fitxers de configuraci\u00f3 s\u00f3n essencials per gestionar el sistema operatiu i controlar com interactuen els usuaris, els grups i els permisos dins del sistema. A continuaci\u00f3, veurem diversos fitxers clau que es troben en la ruta /etc i que emmagatzemen informaci\u00f3 cr\u00edtica sobre usuaris, grups, contrasenyes i configuraci\u00f3 general.</p>"},{"location":"fitxers/#fitxer-etcpasswd","title":"Fitxer /etc/passwd","text":"<p>El fitxer /etc/passwd \u00e9s fonamental en Linux, ja que cont\u00e9 informaci\u00f3 b\u00e0sica sobre tots els usuaris del sistema. Cada l\u00ednia d'aquest fitxer descriu un usuari i els seus atributs essencials.</p> <p>Per accedir a aquest document podem utilitzar aquesta comanda:</p> <pre><code>sudo nano /etc/passwd\n</code></pre> <p></p> <ul> <li> <p>alumnat: El nom d'usuari amb el qual l'usuari inicia sessi\u00f3.</p> </li> <li> <p>x: Indica que la contrasenya encriptada es troba en el fitxer /etc/shadow. Aix\u00f2 ajuda a separar la informaci\u00f3 de les contrasenyes de la resta de la configuraci\u00f3 de l'usuari.</p> </li> <li> <p>1000: (Identificador d'Usuari): Un identificador \u00fanic per a cada usuari del sistema. En el cas d'usuaris normals, aquest identificador comen\u00e7a des de 1000.</p> </li> <li> <p>1000: (Identificador de Grup): El grup principal de l'usuari, associat tamb\u00e9 a un identificador num\u00e8ric.</p> </li> <li> <p>alumant Nom complet: Un camp opcional que pot contenir el nom complet de l'usuari o qualsevol altra informaci\u00f3 descriptiva.</p> </li> <li> <p>/home/alumnat Directori home: El directori personal de l'usuari, on s'emmagatzemen els fitxers personals. Per exemple, /home/usuari.</p> </li> <li> <p>/bin/bash Shell: El programa o shell que s'utilitzar\u00e0 per a la sessi\u00f3. El m\u00e9s com\u00fa \u00e9s /bin/bash, que correspon a la shell Bash.</p> </li> </ul>"},{"location":"fitxers/#fitxer-etcgroup","title":"Fitxer /etc/group","text":"<p>El fitxer /etc/group cont\u00e9 informaci\u00f3 sobre els grups d'usuaris. Cada l\u00ednia d'aquest fitxer defineix un grup i els usuaris que en formen part.</p> <p>Per accedir a aquest document podem utilitzar aquesta comanda:</p> <pre><code>sudo nano /etc/group\n</code></pre> <p></p> <ul> <li>cos_exploracio: El nom del grup (per exemple, alumnat).</li> <li>x: Indica que no es mostra ni s'utilitza la contrasenya per al grup (generalment es gestiona a trav\u00e9s del fitxer /etc/gshadow).</li> <li>1003 GID (Identificador de Grup): Un identificador \u00fanic per al grup dins del sistema.</li> <li>levi Usuaris: Els usuaris que s\u00f3n membres del grup. Els noms d'usuari estan separats per comes.</li> </ul>"},{"location":"fitxers/#fitxer-etcshadow","title":"Fitxer /etc/shadow","text":"<p>El fitxer /etc/shadow cont\u00e9 les contrasenyes encriptades dels usuaris i altres informaci\u00f3 relacionada amb la seguretat dels comptes d'usuari. Aquest fitxer nom\u00e9s pot ser llegit per l'usuari root per motius de seguretat.</p> <p>Per accedir a aquest document podem utilitzar aquesta comanda:</p> <pre><code>sudo nano /etc/shadow\n</code></pre> <p></p> <ul> <li> <p>levi: El nom de l'usuari.</p> </li> <li> <p>($y$j9T$ezp6aFOuB1Y5GYhu0ESlz0$j6kJJ6ZPnyHW.d/R6iCVx5HMwFLA6L/ytjskgyUHMP4): Aquesta \u00e9s la contrasenya encriptada de l'usuari, utilitzant un algoritme de hashing (probablement SHA-512 o un algorisme similar).</p> </li> <li> <p>\u00daltim canvi (20055): El n\u00famero de dies des de l'1 de gener de 1970 que es va canviar la contrasenya.</p> </li> <li> <p>Expiraci\u00f3 de la contrasenya (0): El valor 0 indica que no hi ha data d'expiraci\u00f3 definida per la contrasenya de l'usuari, \u00e9s a dir, la contrasenya no caduca autom\u00e0ticament.</p> </li> <li> <p>Advert\u00e8ncia de caducitat (99999): Aquest valor indica que l'usuari ser\u00e0 advertit sobre la caducitat de la contrasenya 99999 dies abans que caduca. En aquest cas, significa que no hi ha cap advert\u00e8ncia configurada.</p> </li> <li> <p>Inactivitat (7): Aquest valor indica que despr\u00e9s de 7 dies d'inactivitat (\u00e9s a dir, sense iniciar sessi\u00f3), l'usuari ser\u00e0 bloquejat o es produir\u00e0 algun tipus de restricci\u00f3.</p> </li> </ul>"},{"location":"fitxers/#fitxer-etcgshadow","title":"Fitxer /etc/gshadow","text":"<p>El fitxer /etc/gshadow cont\u00e9 informaci\u00f3 sobre les contrasenyes de grups. Aix\u00f2 \u00e9s \u00fatil quan cal gestionar grups que requereixen autenticaci\u00f3 per accedir a recursos compartits.</p> <p>Per accedir a aquest document podem utilitzar aquesta comanda:</p> <pre><code>sudo nano /etc/gshadow\n</code></pre> <p></p> <ul> <li> <p>Nom del grup (cos_exploracio): Aquest \u00e9s el nom del grup, en aquest cas, \"cos_exploracio\".</p> </li> <li> <p>Contrasenya del grup (!): El s\u00edmbol ! indica que el grup no t\u00e9 una contrasenya associada, el que significa que no es requereix cap contrasenya per afegir o modificar membres del grup. Si el grup tingu\u00e9s una contrasenya, aquesta seria encriptada com la contrasenya d'un usuari en el fitxer /etc/shadow.</p> </li> <li> <p>Membres del grup (levi): Aquesta part mostra els membres del grup. En aquest cas, \"levi\" \u00e9s l'\u00fanic membre del grup cos_exploracio. Aix\u00f2 significa que l'usuari levi t\u00e9 acc\u00e9s a aquest grup i pot utilitzar els permisos associats amb ell.</p> </li> </ul>"},{"location":"gestioldap/","title":"Gesti\u00f3 del Servei LDAP","text":"<p>Aquest document serveix com a guia r\u00e0pida per gestionar el servidor LDAP amb operacions b\u00e0siques com afegir, eliminar i modificar entrades.</p>"},{"location":"gestioldap/#afegir-entrades-amb-ldapadd","title":"Afegir Entrades amb ldapadd","text":"<p>Per afegir una nova entrada a la base de dades LDAP s\u2019utilitza la comanda <code>ldapadd</code> amb un fitxer LDIF que defineix l'entrada. Per exemple, crea el fitxer user.ldif amb el seg\u00fcent contingut:</p> <pre><code>dn: uid=eren,ou=usuaris,dc=paquirrinisalive,dc=cat\nobjectClass: inetOrgPerson\nobjectClass: posixAccount\nobjectClass: top\nuid: eren\ncn: Eren\nsn: 123\ngivenName: Eren123\nuidNumber: 1004\ngidNumber: 1009\nhomeDirectory: /home/eren\nloginShell: /bin/bash\nuserPassword: {SSHA}123\nmail: eren@paquirrinisalive.cat\n</code></pre> <p>I executa la comanda:</p> <pre><code>ldapadd -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W -f user.ldif\n</code></pre>"},{"location":"gestioldap/#consultes-amb-ldapsearch","title":"Consultes amb ldapsearch","text":"<p>El comandament <code>ldapsearch</code> \u00e9s essencial per cercar informaci\u00f3 i filtrar resultats. A continuaci\u00f3, alguns exemples:</p>"},{"location":"gestioldap/#filtrar-resultats","title":"Filtrar Resultats","text":"<p>Per cercar un usuari espec\u00edfic amb un uid determinat:</p> <pre><code>ldapsearch -xLLL -b  \"(uid=alu1)\"\n</code></pre> <p></p>"},{"location":"gestioldap/#especificar-atributs","title":"Especificar Atributs","text":"<p>Per retornar nom\u00e9s certs atributs, com <code>cn</code> i <code>homeDirectory</code>:</p> <p></p>"},{"location":"gestioldap/#cerca-amb-filtres-complexos","title":"Cerca amb Filtres Complexos","text":"<p>Per llistar totes les Unitats Organitzatives (UOs):</p> <p></p>"},{"location":"gestioldap/#eliminacio-dentrades-i-atributs","title":"Eliminaci\u00f3 d'Entrades i Atributs","text":"<p>Hi ha dues maneres d\u2019eliminar informaci\u00f3:</p>"},{"location":"gestioldap/#esborrar-atributs-amb-ldapmodify","title":"Esborrar Atributs amb ldapmodify","text":"<p>Crea un fitxer LDIF per eliminar, per exemple, l'atribut <code>mail</code>:</p> <p></p> <pre><code>dn: uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\nchangetype: modify\ndelete: mail\n</code></pre> <p>Aplica els canvis amb:</p> <p></p>"},{"location":"gestioldap/#esborrar-una-entrada-amb-ldapdelete","title":"Esborrar una Entrada amb ldapdelete","text":"<p>Per eliminar directament una entrada:</p> <pre><code>ldapdelete -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W \"uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\"\n</code></pre>"},{"location":"gestioldap/#esborrar-una-entrada-amb-ldapmodify","title":"Esborrar una Entrada amb ldapmodify","text":"<p>Alternativament, pots esborrar una entrada mitjan\u00e7ant un fitxer LDIF com aquest (ex. esborrar_alu1.ldif):</p> <pre><code>dn: uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\nchangetype: delete\n</code></pre> <p>I executar:</p> <pre><code>ldapmodify -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W -f esborrar_alu1.ldif\n</code></pre>"},{"location":"gestioldap/#modificacio-dentrades-amb-ldapmodify","title":"Modificaci\u00f3 d'Entrades amb ldapmodify","text":"<p>La comanda <code>ldapmodify</code> permet actualitzar atributs o reestructurar l\u2019esquema d\u2019entrades.</p>"},{"location":"gestioldap/#modificar-un-unic-camp","title":"Modificar un \u00danic Camp","text":"<p>Per actualitzar el n\u00famero de tel\u00e8fon i el correu, crea el fitxer modificar_alu1.ldif:</p> <pre><code>dn: uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\nchangetype: modify\nreplace: telephoneNumber\ntelephoneNumber: 123456789\n-\nreplace: mail\nmail: alu1@paquirrinisalive.cat\n</code></pre> <p>Executa la comanda:</p> <pre><code>ldapmodify -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W -f modificar_alu1.ldif\n</code></pre> <p>Verifica-ho amb:</p> <pre><code>ldapsearch -xLLL -b \"uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\" telephoneNumber mail\n</code></pre>"},{"location":"gestioldap/#modificar-diversos-atributs-i-moure-una-entrada","title":"Modificar Diversos Atributs i Moure una Entrada","text":"<p>Per actualitzar diversos camps i transferir l\u2019usuari a una nova UO (per exemple, asix), crea el fitxer modificar_alu1_complex.ldif:</p> <pre><code>dn: uid=alu1,ou=usuaris,dc=paquirrinisalive,dc=cat\nchangetype: modify\nreplace: telephoneNumber\ntelephoneNumber: 611047095\n-\nadd: mail\nmail: alu1@paquirrinisalive,dc=cat\n-\nadd: l\nl: Barcelona\n-\nchangetype: modrdn\nnewrdn: uid=alu1\ndeleteoldrdn: 1\nnewsuperior: ou=asix,dc=paquirrinisalive,dc=cat\n</code></pre> <p>Execuci\u00f3:</p> <pre><code>ldapmodify -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W -f modificar_alu1_complex.ldif\n</code></pre> <p>Verifica la nova ubicaci\u00f3:</p> <pre><code>ldapsearch -xLLL -b \"uid=alu1,ou=asix,dc=paquirrinisalive,dc=cat\"\n</code></pre>"},{"location":"gestioparticions/","title":"Gesti\u00f3 de particions","text":""},{"location":"gestioparticions/#creacio-duna-particio","title":"Creaci\u00f3 d'una partici\u00f3","text":"<p>Ara aprendrem a com crear una partici\u00f3 tant en format ext4 com en NTFS</p> <p>El primer que farem \u00e9s comprovar el nom de la nostra partici\u00f3, en aquest cas, la meva es diu sdb, i t\u00e9 10 GB d'emmagatzematge. I podem comprovar-ho mitjan\u00e7ant la comanda:</p> <pre><code>fdisk -l\n</code></pre> <p></p> <p>Un cop ja tenim el nom del disc on volem crear la partici\u00f3, ja podem comen\u00e7ar amb la creaci\u00f3 de la partici\u00f3. Amb la comanda seg\u00fcent:</p> <pre><code>sudo fdisk /dev/sdb\n</code></pre> <p>Despr\u00e9s d'executar la comanda, el que hem de fer \u00e9s el seg\u00fcent:</p> <ul> <li>Escriure <code>n</code> per a crear una nova partici\u00f3.</li> <li>Escriure <code>p</code> per a definir-la com una partici\u00f3 prim\u00e0ria.</li> <li>Definir la mida de la partici\u00f3, en aquest cas \u00e9s a elecci\u00f3 pr\u00f2pia, per\u00f2 jo he posat 20.000.000 bytes</li> <li>I molt important per a acabar i guardar hem d'escriure <code>w</code></li> </ul> <p></p>"},{"location":"gestioparticions/#particions-ext4","title":"Particions EXT4","text":"<p>Un cop hem fet la partici\u00f3, podrem formatar la partici\u00f3 en ext4 amb la seg\u00fcent comanda:</p> <pre><code>sudo mkfs.ext4 -b 2048 /dev/sdb1\n</code></pre> <p></p> <p>Mida del bloc</p> <p>Amb la seg\u00fcent comanda podem fer la comprovaci\u00f3 de la mida del bloc que hem donat a la particio.</p> <pre><code>sudo tune2fs -l /dev/sdb1 | grep Block\n</code></pre> <p></p> <p>Block count indica el nombre total de blocs que te cada partici\u00f3. Block size indica la mida de cada bloc que est\u00e0 assignada. I blocks per group idica el nombre de blocs per cada gruo assignats. </p>"},{"location":"gestioparticions/#particions-ntfs","title":"Particions NTFS","text":"<p>Per continuar amb les particions NTFS el que hem de fer es crear una segona partici\u00f3, si voleu en el mateix disc. En el meu cas aquesta segona partici\u00f3 s'anomena sdb2 i el que farem per convertir-la a NTFS \u00e9s executar la seg\u00fcent comanda: </p> <pre><code>mkfs.ntfs -Q /dev/sdb2\n</code></pre> <p></p> <p>Despr\u00e9s d'aix\u00f2 el que farem es verificar que tot s'hagi creat amb el format correcte amb la comanda:</p> <pre><code>lsblk -f\n</code></pre> <p></p>"},{"location":"gestioparticions/#carpeta-a-la-particio-temporal","title":"Carpeta a la partici\u00f3 temporal","text":"<p>Ara crearem una carpeta i un arxiu dins d'aquesta. </p> <p></p> <p>Un cop tenim la carpeta i l'arxiu creat, muntarem la carpeta dintre de /dev/sdb1. Aix\u00f2 no ser\u00e0 visible per a l'usuari, pero ens assegura que en el cas de que es trenqui el disco o passi alguna cosa amb aquest, no es perdi tota la informaci\u00f3 emmagatzemada. Per a muntar la carpeta a /deb/sdb1 ho farem amb aquesta comanda:</p> <pre><code>sudo mount -t ext4 /dev/sdb1 /var/particio1/\n</code></pre> <p></p> <p>Els arxius es guarden a la particio que hem muntat pero els que ja estaven previament no s'esborren. Queden ocults. </p> <p></p> <ul> <li> <p>ls particio1/: Llistem el contingut del directori <code>particio1/</code>. Inicialment, nom\u00e9s apareix el directori <code>lost+found</code>, que es crea autom\u00e0ticament en particions formatades amb ext4.</p> </li> <li> <p>touch particio1/adeu: Creem un fitxer buit anomenat <code>bye</code> dins de la carpeta muntada <code>particio1/</code>.</p> </li> <li> <p>umount /dev/sdb1: Desmuntem la partici\u00f3 <code>/dev/sdb1</code>, fent que el contingut de la partici\u00f3 deixi d'estar accessible.</p> </li> <li> <p>ls particio1/: Tornem a llistar el contingut de la carpeta. Ara no apareix el fitxer <code>adeu</code>, ja que aquest estava dins de la partici\u00f3 muntada i aquesta ja no est\u00e0 accessible.</p> </li> <li> <p>ls partition1/ despr\u00e9s de desmuntar: Aqu\u00ed es mostren nom\u00e9s els fitxers que pertanyen al directori local, fora del sistema de fitxers muntat. Quan es desmunta, el contingut de la partici\u00f3 queda separat del directori. Aix\u00f2 demostra com el muntatge i desmuntatge funcionen per accedir al contingut de particions.</p> </li> </ul> <p></p> <p>Per comprovar que la partici\u00f3 existeix utilitzem la comanda:</p> <pre><code>df -T\n</code></pre> <p>Aquesta comanda mostra una llista de totes les particions muntades juntament amb el tipus de sistema de fitxers de cadascuna. I com podem veure, aqu\u00ed segueix present. Per\u00f2 despres de reiniciar la m\u00e0quina, si tornem a utilitzar la mateixa comanda, podem veure com l a partici\u00f3 sdb1 ja no apareix</p> <p></p> <p>Per a fer un muntatge permanent, \u00e9s necessari editar el fitxer /etc/fstab, afegint els par\u00e0metres necessaris</p> <p></p> <p>Despr\u00e9s de reiniciar el sistema, si hem posat els par\u00e0metres correctament la m\u00e0quina funcionar\u00e0 corrrectament. I tornem a fer <code>df -T</code>. Podem observar que sdb1 ja torna a apar\u00e8ixer, i podem fer un ls de particio1.</p> <p></p>"},{"location":"gestioparticions/#compartir-fitxers-en-xarxa","title":"Compartir fitxers en xarxa","text":"<p>Per a compartir fitxers en xarxa utilitzarem una eina anomenada samba.</p> <p>Samba \u00e9s una eina que permet compartir fitxers i impressores entre ordinadors amb Linux i Windows. Per configurar Samba, instal\u00b7la el paquet, edita el fitxer <code>/etc/samba/smb.conf</code> i defineix els recursos a compartir i els permisos d'acc\u00e9s.</p> <p>El primer que farem \u00e9s instal\u00b7lar samba</p> <p></p> <p>Un cop hem instal\u00b7lat samba, donem els permisos 777 a la carpeta particio1, \u00e9s a dir que tothom pot fer el que vulgui amb ella.</p> <p></p> <p>I despr\u00e9s d'aix\u00f2, ja podem editar l'arxiu smb.conf</p> <pre><code>sudo nano /etc/samba/smb.conf\n</code></pre> <p></p> <p>Ara reiniciem el servei de samba i intentem connectar-nos</p> <p></p> <p>En connectem obrint \"Other locations\" enlasecci\u00f3 de fitxers, i introduint la nostra ip. (Si esteu en una m\u00e0quina la IP de la m\u00e0quina). Ens demanar\u00e0 unes credecials, s\u00f3n les que hem posar anteriorment editant el fitxer de smb.conf i ja podrem accedir a la carpetacompartida.</p> <p></p>"},{"location":"instalacio/","title":"Instal\u00b7laci\u00f3","text":"<p>El que hem fet ha sigut fer la instal\u00b7laci\u00f3 del sistema operatiu Ubuntu 22 des del principi amb el virtual box. </p> <p>El primer que hem de fer \u00e9s clicar al bot\u00f3 on posa nova, on hi ha un bot\u00f3 blau a la part superior de la aplicaci\u00f3. Una vegada fet aix\u00f2, ja podrem afegir la iso del Ubuntu 22 on diu ISO Image. Haurem de clicar en la casella on diu Skip Unattended Installation, que serveix per a fer una instalaci\u00f3 manual des de zero del Ubuntu</p> <p></p> <p>Un cop col\u00b7locada la ISO i marcada la casella, podem clicar al bot\u00f3 d'endavant. Haurem de posar uns 5GB de RAM i 3 nuclis per a que la m\u00e0quina virtual pugui funcionar d'una manera adient.</p> <p></p> <p>Tornem a clicar el bot\u00f3 d'endavant i podrem observar una pestanya on diu \"Disk Size\" Aix\u00f2 significa la capacitat m\u00e0xima que pot arribar a tenir el disc dur dintre de la m\u00e0quina virtual. No us preocupeu que m\u00e9s avant es pot arribar a editar la capacitat m\u00e0xima.</p> <p></p> <p>Una tinguis la m\u00e0quina preparada, pots iniciar-la clicant dues vegades damunt del nom de la m\u00e0quina virtual, un cop oberta, et surtir\u00e0 aquest men\u00fa. L'\u00fanic que has de fer \u00e9s donar-li a la tecla enter.</p> <p></p> <p>Quan ja hagis clicat a la tecla enter, ja estir\u00e1s dintre del Sistema Operatiu d'ubuntu, ara nom\u00e9s fa falta preparar la instal\u00b7laci\u00f3. Li donem a l'opci\u00f3 \"Instalar Ubuntu\" </p> <p>Ara nom\u00e9s fa falta seleccionar l'idioma amb el qual volem utilitzar el sistema operatiu, en aquest cas, jo utilitzar\u00e9 el Castell\u00e0</p> <p></p> <p>Despr\u00e9s de selccionar l'idioma, cliquem continuar, fins arribar a la seg\u00fcent pestanya de la imatge. On podem posar l'usuari i la contrasenya d'usuari dintre de la m\u00e0quina virtual. Un cop posades totes les dades, cliquem continuar.</p> <p></p> <p>Un cop finalitzada la configuraci\u00f3, comen\u00e7ar\u00e0 el proc\u00e9s d'instal\u00b7laci\u00f3, haurem d'esperar un 10 minuts per a que la instalacio del Ubuntu 22 finalitzi i quan acabi ens demar\u00e0 que reiniciem el sistema. Li donem a reiniciar ara i ja podrem accedir a la m\u00e0quina virtual iniciant sessi\u00f3 amb l'usuari i la contrasenya configurades anteriorment. </p> <p></p> <p>Instal\u00b7laci\u00f3 finalitzada!</p>"},{"location":"ldap/","title":"Instal\u00b7laci\u00f3 LDAP","text":""},{"location":"ldap/#que-es-ldap","title":"Qu\u00e8 \u00e9s LDAP?","text":"<p>LDAP (Lightweight Directory Access Protocol) \u00e9s un protocol que permet accedir i gestionar serveis d'informaci\u00f3 de directori distribu\u00efts en una xarxa IP. \u00c9s \u00fatil per organitzar i administrar informaci\u00f3 com usuaris, grups, dispositius i altres recursos dins d'una xarxa.</p>"},{"location":"ldap/#que-es-un-domini","title":"Qu\u00e8 \u00e9s un domini?","text":"<p>Un domini \u00e9s una unitat administrativa dins d'una xarxa que organitza i gestiona recursos com usuaris, grups, dispositius i altres objectes. Els dominis permeten aplicar pol\u00edtiques de seguretat, gestionar permisos i autenticar usuaris de manera centralitzada. En un entorn LDAP, un domini es defineix per un nom de domini complet (FQDN) i pot contenir m\u00faltiples unitats organitzatives (OUs) que ajuden a estructurar i segmentar els recursos de manera l\u00f2gica.</p>"},{"location":"ldap/#usos-de-ldap","title":"Usos de LDAP","text":"<p>LDAP s'utilitza en diverses situacions, incloent:</p> <ul> <li>Autenticaci\u00f3 d'usuaris: LDAP permet centralitzar l'autenticaci\u00f3 dels usuaris en una xarxa, facilitant la gesti\u00f3 de credencials.</li> <li>Gesti\u00f3 de recursos: Permet administrar dispositius, aplicacions i altres recursos de manera centralitzada.</li> <li>Directori d'empresa: Utilitzat per mantenir un directori d'empleats, incloent informaci\u00f3 de contacte i posicions.</li> <li>Control d'acc\u00e9s: Facilita la implementaci\u00f3 de pol\u00edtiques de seguretat i control d'acc\u00e9s a diferents recursos de la xarxa.</li> <li>Integraci\u00f3 amb altres serveis: LDAP es pot integrar amb altres serveis com correu electr\u00f2nic, VPNs, i aplicacions empresarials per proporcionar una gesti\u00f3 unificada.</li> </ul> <p>En aquest cas, utilitzarem <code>slapcat</code>, que serveix per exportar el contingut d'una base de dades LDAP a un fitxer en format LDIF (LDAP Data Interchange Format). Aquest format \u00e9s un est\u00e0ndard per representar dades LDAP en text pla, el que facilita la seva lectura i manipulaci\u00f3.</p>"},{"location":"ldap/#que-son-els-fitxers-ldif","title":"Qu\u00e8 s\u00f3n els fitxers LDIF?","text":"<p>Els fitxers LDIF (LDAP Data Interchange Format) s\u00f3n fitxers de text pla utilitzats per representar dades d'un directori LDAP. Aquests fitxers permeten exportar i importar informaci\u00f3 de manera est\u00e0ndard, facilitant la transfer\u00e8ncia de dades entre diferents sistemes LDAP. Un fitxer LDIF cont\u00e9 una s\u00e8rie d'entrades, cadascuna de les quals representa un objecte del directori, com ara usuaris, grups o dispositius. Cada entrada inclou una s\u00e8rie d'atributs i els seus valors corresponents.</p>"},{"location":"ldap/#creacio-dun-domini-amb-ldap","title":"Creaci\u00f3 d'un domini amb LDAP","text":""},{"location":"ldap/#establir-una-ip-estatica","title":"Establir una IP est\u00e0tica","text":"<p>El primer que farem \u00e9s establir una IP est\u00e0tica al sistema per evitar possibles errors en el futur. Si la IP canvia, haur\u00edem de modificar els fitxers de configuraci\u00f3. En aquest cas, la meva IP \u00e9s 10.0.2.14, per\u00f2 podeu utilitzar qualsevol altra que us convingui.</p> <p></p>"},{"location":"ldap/#canviar-el-hostname","title":"Canviar el hostname","text":"<p>Per canviar el nom de la m\u00e0quina, podem utilitzar la seg\u00fcent comanda:</p> <pre><code>sudo nano /etc/hostname\n</code></pre> <p></p> <p>Afegirem el nom i la IP al fitxer <code>/etc/hosts</code> perqu\u00e8 el sistema pugui recon\u00e8ixer el nom del servidor i el domini:</p> <pre><code>sudo nano /etc/hosts\n</code></pre> <p></p>"},{"location":"ldap/#installacions-necessaries-ldap","title":"Instal\u00b7lacions necess\u00e0ries LDAP","text":"<p>Ara que tenim la configuraci\u00f3 inicial finalitzada, comen\u00e7arem amb la instal\u00b7laci\u00f3 de paquets essencials per treballar amb LDAP:</p> <pre><code>sudo apt install slapd ldap-utils\n</code></pre> <p></p>"},{"location":"ldap/#verificacio-inicial-ldap","title":"Verificaci\u00f3 inicial LDAP","text":"<p>Despr\u00e9s d'executar la comanda <code>slapcat</code>, es pot veure que el directori no est\u00e0 completament buit. Cont\u00e9 una configuraci\u00f3 m\u00ednima inicial amb el domini <code>dc=nodomain</code>. Aix\u00f2 indica que el servidor LDAP est\u00e0 funcionant, per\u00f2 encara no s'ha configurat adequadament.</p> <p></p>"},{"location":"ldap/#configuracio-ldap","title":"Configuraci\u00f3 LDAP","text":"<p>Per configurar el servidor LDAP, utilitzarem:</p> <pre><code>sudo dpkg-reconfigure slapd\n</code></pre> <p>Seguirem els seg\u00fcents passos:</p> <ol> <li> <p>Seleccionem \"No\" per continuar amb la configuraci\u00f3 </p> </li> <li> <p>Assignem un nom al domini </p> </li> <li> <p>Introdu\u00efm el nom de l'organitzaci\u00f3 </p> </li> <li> <p>Assignem una contrasenya d'administrador </p> </li> <li> <p>Eliminem la base de dades anterior </p> </li> <li> <p>Movem la base de dades antiga </p> </li> </ol> <p>Un cop finalitzada la configuraci\u00f3, podem verificar que tot s'ha creat correctament:</p> <p></p> <p>Comprovem la configuraci\u00f3 amb <code>slapcat</code>:</p> <p></p>"},{"location":"ldap/#fitxers-ldif","title":"Fitxers LDIF","text":"<p>Els fitxers LDIF s\u00f3n essencials per definir i importar dades en un servidor LDAP. Per exemple, per crear una Unitat Organitzativa (OU) anomenada \"users\", creem un fitxer <code>uo.ldif</code> amb els seg\u00fcents elements:</p> <ul> <li>dn (Distinguished Name): Especifica la ubicaci\u00f3 \u00fanica de l'objecte</li> <li>objectClass: Defineix el tipus d'objecte</li> <li>ou: Indica el nom de la unitat organitzativa</li> </ul> <p></p> <p>Creaci\u00f3 del fitxer grup.ldif</p> <p>El fitxer grup.ldif defineix un grup dins del nostre servidor LDAP. Aquest grup ser\u00e0 associat a una Unitat Organitzativa (OU) ja existent (en aquest cas, users). Aqu\u00ed detallem els par\u00e0metres utilitzats:</p> <p>alt text</p> <p>dn (Distinguished Name): Identifica de manera \u00fanica el grup (cn=alumnes,ou=users,dc=vitaliy,dc=com). objectClass: Defineix el tipus d'objecte (en aquest cas, posixGroup, per a grups POSIX). cn: Nom del grup (alumnes). gidNumber: Identificador \u00fanic del grup (1001). memberUid: Usuaris membres del grup (en aquest cas, alu1). Aquest fitxer es pot importar al servidor LDAP per crear i gestionar grups d\u2019usuaris, facilitant l\u2019organitzaci\u00f3 i la configuraci\u00f3 d\u2019acc\u00e9s.</p> <p></p>"},{"location":"ldap/#creacio-del-fitxer-usuldif","title":"Creaci\u00f3 del fitxer usu.ldif","text":"<p>El fitxer <code>usu.ldif</code> s'utilitza per crear i configurar usuaris dins del servidor LDAP. Aquest fitxer cont\u00e9 els par\u00e0metres b\u00e0sics necessaris per definir un compte d'usuari, per\u00f2 es pot ampliar amb informaci\u00f3 addicional com correu electr\u00f2nic, n\u00famero de tel\u00e8fon, etc.</p> <ul> <li>dn (Distinguished Name): Identifica de manera \u00fanica l'usuari dins del directori</li> <li>objectClass: Defineix les classes associades a l'usuari:</li> <li>inetOrgPerson i organizationalPerson per a dades personals i organitzatives</li> <li>posixAccount i shadowAccount per a compatibilitat amb sistemes POSIX i gesti\u00f3 de contrasenyes</li> <li>userPassword: Contrasenya de l'usuari (en format encriptat \u00e9s recomanable)</li> <li>cn: Nom complet de l'usuari (exemple: Primer)</li> <li>sn: Cognom de l'usuari (exemple: Alumne1)</li> <li>gidNumber: Identificador del grup al qual pertany l'usuari (exemple: 1001)</li> <li>uidNumber: Identificador \u00fanic de l'usuari (exemple: 1001)</li> <li>homeDirectory: Directori personal de l'usuari (exemple: /home/alu1)</li> <li>loginShell: Shell predeterminada de l'usuari (exemple: /bin/bash)</li> <li>shadowExpire, shadowLastChange, shadowMax, shadowMin, shadowWarning: Par\u00e0metres relacionats amb la caducitat i gesti\u00f3 de contrasenyes Aquest fitxer es pot utilitzar per afegir l'usuari al directori LDAP mitjan\u00e7ant comandes com ldapadd. A m\u00e9s, es poden incloure atributs addicionals, com correu electr\u00f2nic o tel\u00e8fon, segons les necessitats de l'organitzaci\u00f3.</li> </ul> <p></p>"},{"location":"ldap/#carregar-fitxers-ldif-al-servidor-ldap","title":"Carregar fitxers .ldif al servidor LDAP","text":"<p>Un cop creats els fitxers .ldif, el seg\u00fcent pas \u00e9s carregar-los al servidor LDAP. Aquest proc\u00e9s permet crear els objectes definits (unitats organitzatives, grups i usuaris) dins del directori.</p> <p>Per fer-ho, utilitzarem la comanda <code>ldapadd</code>:</p> <pre><code>ldapadd -c -x -D \"cn=admin,dc=paquirrinisalive,dc=cat\" -W -f &lt;nom_fitxer&gt;\n</code></pre> <p>Els par\u00e0metres utilitzats s\u00f3n:</p> <ul> <li><code>-c</code>: Continua processant malgrat errors</li> <li><code>-x</code>: Utilitza autenticaci\u00f3 simple</li> <li><code>-D</code>: Especifica el DN de l'administrador</li> <li><code>-W</code>: Sol\u00b7licita la contrasenya interactivament</li> <li><code>-f</code>: Indica el fitxer .ldif a carregar</li> </ul> <p>Aquesta comanda s'ha d'executar per cada fitxer .ldif que vulguem carregar (uo.ldif, grup.ldif, usu.ldif).</p> <p></p> <p>Per acabar, fem una comprovaci\u00f3 final</p> <p></p>"},{"location":"ldapgui/","title":"LDAP amb entorn gr\u00e0fic","text":""},{"location":"ldapgui/#opcions-per-gestionar-ldap-amb-entorn-grafic","title":"Opcions per gestionar LDAP amb entorn gr\u00e0fic","text":"<p>A continuaci\u00f3 es presenten diverses alternatives per fer-ne la configuraci\u00f3 i administraci\u00f3 a trav\u00e9s d'una interf\u00edcie gr\u00e0fica:</p>"},{"location":"ldapgui/#apache-directory-studio","title":"Apache Directory Studio","text":"<ul> <li>Entorn complet amb explorador de directori LDAP.</li> <li>Permet navegar, modificar i gestionar esquemes i regles.</li> <li>Disponible per a Windows, macOS i Linux; descarrega gratu\u00efta des de la seva p\u00e0gina oficial.</li> </ul>"},{"location":"ldapgui/#ldap-account-manager-lam","title":"LDAP Account Manager (LAM)","text":"<ul> <li>Aplicaci\u00f3 web per administrar usuaris, grups i altres entitats LDAP.</li> <li>Facilita la gesti\u00f3 a trav\u00e9s d'una interf\u00edcie intu\u00eftiva.</li> <li>Es pot instal\u00b7lar via repositoris en distribucions Linux o mitjan\u00e7ant contenidors Docker.</li> </ul>"},{"location":"ldapgui/#phpldapadmin","title":"phpLDAPadmin","text":"<ul> <li>Eina basada en PHP per a la gesti\u00f3 visual i edici\u00f3 de dades LDAP.</li> <li>Ofereix funcionalitats per realitzar consultes avan\u00e7ades i modificar el directori.</li> <li>Instal\u00b7lable a trav\u00e9s de gestors de paquets, amb suport en la majoria de sistemes Linux.</li> </ul>"},{"location":"ldapgui/#per-que-utilitzare-apache-directory-studio","title":"Per qu\u00e8 utilitzar\u00e9 Apache Directory Studio?","text":"<p>Apache Directory Studio \u00e9s valorat per ser un entorn complet que simplifica la navegaci\u00f3 i modificaci\u00f3 del directori LDAP. La seva interf\u00edcie gr\u00e0fica intu\u00eftiva facilita tant la gesti\u00f3 d\u2019esquemes com de regles, cosa que resulta especialment \u00fatil per a administradors i desenvolupadors. A m\u00e9s, la seva compatibilitat amb diversos sistemes operatius com Windows, macOS i Linux aporta una gran flexibilitat, i la possibilitat de realitzar consultes avan\u00e7ades i administrar dades de manera eficient el converteix en una soluci\u00f3 molt recomanada.</p>"},{"location":"ldapgui/#configuracio-apache-directory-studio","title":"Configuraci\u00f3 Apache Directory Studio","text":"<p>Des del servidor, descarregarem l'eina Apache Directory Studio mitjan\u00e7ant el navegador web. </p> <p></p> <p>En el nostre cas, utilitzarem la versi\u00f3 dedicada a Linux.</p> <p></p> <p>Un cop ja l'hem instal\u00b7lat, el que hem de fer \u00e9s fer un doble click al arxiu per a que es descomprimeixi, aixi\u00ed ens sortr\u00e0 la carpeta marcada. </p> <p></p> <p>Ara ja tenim l'arxiu per a executar-ho. Fem doble clic per a executar-ho.</p> <p></p> <p>Ens obrir\u00e0 aquest men\u00fa. El que hem de fer \u00e9s anar a la secci\u00f3 de LDAP per a poder continuar. I premem el bot\u00f3 de \"New Connection\"</p> <p></p> <p>En aquesta finestra podrem crear una connexi\u00f3 nova.</p> <p></p> <p>Ens demana que introduim les credencials que vam posar en la instal\u00b7laci\u00f3 del LDAP. Introduim la informaci\u00f3 necess\u00e0ria i continuem</p> <p></p> <p>Per si ens hem equivocat, comprovem que les credencials que hem posat del LDAP siguin correctes, en el meu cas diu que han estat \"Successful\" \u00e9s a dir, que s\u00f3n correctes.</p> <p></p>"},{"location":"ldapgui/#afegir-registres","title":"Afegir registres","text":"<p>Ara afegirem un nou registre. </p> <p></p> <p>Aqu\u00ed no toquem res, ho deixem per defecte. </p> <p></p> <p>Crearem un grup amb l'opci\u00f3 posixGroup. </p> <p></p> <p>Ara, establim el RDN escribim cn i en el meu cas \"privilegiats\" per al nom del grup. </p> <p></p> <p>Ara ens demana un GID number, aneu en compte de no posar un que ja estigui establert, jo he posat 1200. </p> <p></p> <p>Ara, per a crear un usuari, utilitzarem Alu1 coma plantilla. </p> <p></p> <p>En la seg\u00fcent pestanya no cal modificar res, simplement hem de deixarla per defecte i editar la que es mostra, donant-li el nom al usuari que cregueu convenient.</p> <p></p> <p>Ja tenim el gup privilegiats i l'usuari joan creat</p> <p></p>"},{"location":"llicencies/","title":"Licenciament del Programari","text":""},{"location":"llicencies/#programari-lliure-pl","title":"Programari Lliure (PL)","text":"<p>El programari lliure es fonamenta en quatre llibertats essencials:</p> <li>Utilitzaci\u00f3: Permet l'\u00fas sense restriccions.</li> <li>Estudi i Adaptaci\u00f3: Pots analitzar-lo i modificar-lo segons les teves necessitats.</li> <li>Distribuci\u00f3: Autoritza la redistribuci\u00f3 del programari.</li> <li>Millora i Compartici\u00f3: Permet millorar el codi i compartir les modificacions amb altres.</li>"},{"location":"llicencies/#tots-els-tipus-de-llicencies-copyleft","title":"Tots els tipus de llic\u00e8ncies Copyleft","text":"<p>Les lli\u00e7\u00e8ncies copyleft son les que permeten que es puguin editar per altres usuaries, per\u00f2 totes tenen algun tipus de restricci\u00f3, ara us donarem un exemple de cada tipus de llic\u00e8ncia copyleft que hi ha;</p> <p>Reconeixement: Nomes s'ha de acreditar la persona que ho ha fet, pero es pot fer qualsevol tipus de explotaci\u00f3, ja sigui comercial o transformaci\u00f3</p> <p></p> <p>Reconeixement No comercial: Es permeten obres derivades sempre i quant no es faci amb \u00e0nim de lucre i s'ha de acreditar l'autor. </p> <p></p> <p>Reconeixement no comercial compartir igual: Aquesta llic\u00e8ncia permet modificar i distribuir el contingut sempre que es reconegui l'autor original, no es faci \u00fas comercial i es comparteixi amb la mateixa llic\u00e8ncia.</p> <p></p> <p>Reconeixement no comercial sense obra derivada: No es pot fer res amb aquesta llic\u00e8ncia, ni editar ni fer un \u00fas comercial. </p> <p></p> <p>Reconeixement compartir igual: Es permet fer un us comercial i fer obres derivades, per\u00f2 sempre han de estar distribuides baix la llic\u00e8ncia original</p> <p></p> <p>Reconeixement sense obra derivada: Es permet fer un us comerical, per\u00f2 no fer obres derivades ni l'atribuci\u00f3 de l'auditoria</p> <p></p>"},{"location":"llicencies/#llicencies-right","title":"Llic\u00e8ncies Right","text":"<p>Aquesta llic\u00e8ncia \u00e9s molt m\u00e9s restrictiva, no permet fer cap us comercial ni modificaci\u00f3. Qualsevol persona que vulgui utilitzar alguna cosa amb aquesta llic\u00e8ncia, ha de contactar directament amb l'autor per a demanar-li perm\u00eds.</p>"},{"location":"monitoratge/","title":"Monitoratge i Logs","text":"<p>El monitoratge \u00e9s el proc\u00e9s d'observar i analitzar el comportament d'un sistema en temps real. Aquesta pr\u00e0ctica t\u00e9 com a objectiu detectar incid\u00e8ncies, optimitzar el rendiment i assegurar el manteniment adequat dels serveis. Algunes t\u00e8cniques habituals inclouen:</p> <ul> <li>Recollida de dades: Mesurar par\u00e0metres com la c\u00e0rrega del sistema, l'\u00fas de la CPU, la mem\u00f2ria, etc.</li> <li>Alertes: Notificar en cas d'esdeveniments an\u00f2mals o fallades.</li> <li>Visualitzaci\u00f3: Utilitzar gr\u00e0fics i taulers de control per a una an\u00e0lisi r\u00e0pida.</li> </ul>"},{"location":"monitoratge/#que-son-els-logs","title":"Qu\u00e8 s\u00f3n els Logs?","text":"<p>Els logs s\u00f3n registres cronol\u00f2gics que documenten els esdeveniments que es produeixen en un sistema. S\u00f3n essencials per a:</p> <ul> <li>Diagnosi de problemes: Permeten investigar errors i incid\u00e8ncies.</li> <li>Auditoria: Aporten un historial que ajuda a entendre qu\u00e8 va passar en certs moments.</li> <li>Seguretat: Identifiquen accessos no autoritzats o comportaments sospitosos.</li> </ul> <p>Els logs poden ser generats autom\u00e0ticament per diversos components del sistema com serveis, aplicacions i servidors.</p>"},{"location":"monitoratge/#importancia-del-monitoratge-i-dels-logs","title":"Import\u00e0ncia del Monitoratge i dels Logs","text":"<ul> <li>Millora la capacitat de resposta davant incidents.</li> <li>Facilita la recerca de problemes i la seva resoluci\u00f3.</li> <li>Proporciona informaci\u00f3 clau per a la presa de decisions en manteniment i actualitzaci\u00f3 del sistema.</li> </ul> <p>Aquestes eines s\u00f3n fonamentals per a garantir l'estabilitat i la seguretat d'entorns complexos.</p>"},{"location":"monitoratge/#ubicacio-dels-logs-i-configuracio-de-la-seva-rotacio","title":"Ubicaci\u00f3 dels Logs i configuraci\u00f3 de la seva rotaci\u00f3","text":"<p>Els logs habitualment es guarden en localitzacions espec\u00edfiques segons el sistema operatiu i la configuraci\u00f3 del software. Algunes ubicacions comunes s\u00f3n:</p> <ul> <li>En sistemes basats en Linux/Unix:     La majoria dels logs residiran al directori <code>/var/log</code>.  <ul> <li>Per exemple, es poden trobar ara logs del sistema en arxius com <code>/var/log/syslog</code> o <code>/var/log/messages</code>.  </li> <li>Els logs d'autenticaci\u00f3 solen estar a <code>/var/log/auth.log</code>.</li> </ul> </li> </ul> <p></p> <p>Dintre de la carpeta /etc/ si fem un nano logrotate.conf podrem observar l'arxiu de configuraci\u00f3 de rotaci\u00f3 de logs.</p> <p></p> <p>En cas que necessitem una configuraci\u00f3 ene spec\u00edfic, ens hem de situar a la carpeta /etc/logrotate.d/</p> <p></p> <p>Com podem veure, la configuraci\u00f3 del bootlog est\u00e0 establerta perqu\u00e8 la vagi rotant cada 7 d\u00edes.</p> <p></p>"},{"location":"monitoratge/#analisi-de-logs","title":"An\u00e0lisi de logs","text":"<p>Per analitzar els logs, es pot comen\u00e7ar amb eines b\u00e0siques, com la comanda <code>cat</code>, que permet visualitzar r\u00e0pidament el contingut d'un fitxer. No obstant aix\u00f2, per a una an\u00e0lisi m\u00e9s profunda, journalctl es presenta com una soluci\u00f3 molt potent.</p> <p>Amb journalctl pots aplicar filtres temporals especificant els par\u00e0metres <code>--since</code> i <code>--until</code>, cosa que facilita extreure nom\u00e9s els esdeveniments rellevants dins d'un interval de temps determinat. Aquesta funcionalitat permet obtenir una visi\u00f3 m\u00e9s acurada dels esdeveniments del sistema, millorant la capacitat per resoldre incid\u00e8ncies i optimitzar el rendiment.</p> <p>Aquesta metodologia no nom\u00e9s amplia la comprensi\u00f3 del comportament del sistema, sin\u00f3 que tamb\u00e9 agilita la diagnosi de problemes en entorns de producci\u00f3 o de prova.</p> <p>Aqu\u00ed podem comprovar que hi ha infinits logs</p> <p></p> <p>Per a veure els logs de algun servei, podem utilitzar </p> <pre><code>journalctl -xeu \"nom_servei\"\n</code></pre> <p>En el meu cas, he utilitzat com a exemple el cron.service</p> <p></p>"},{"location":"monitoratge/#logs-personalitzats","title":"Logs personalitzats","text":"<p>Amb logs personalitzats, tens la llibertat de reconfigurar completament el comportament i les alertes dels logs del sistema per adaptar-los a les teves necessitats espec\u00edfiques. Aix\u00f2 et permet:</p> <ul> <li>Canviar la configuraci\u00f3 per defecte: Personalitza les regles i el format dels logs.</li> <li>Gestionar diferents tipus de logs: Defineix com s\u2019emmagatzemen i es processa cada tipus d\u2019informaci\u00f3.</li> <li>Enviar logs a un servidor centralitzat: Utilitza eines com Samba o SCP per unificar la recollida de dades.</li> </ul> <p>Tot i que configurar-ho manualment pot resultar complex, una soluci\u00f3 moderna \u00e9s integrar els logs amb Grafana. Aquesta eina facilita la visualitzaci\u00f3 i l'an\u00e0lisi centralitzada mitjan\u00e7ant panells interactius i gr\u00e0fics din\u00e0mics.</p> <p>Per exemple, per ajustar la configuraci\u00f3 dels logs, simplement edita el fitxer del rsyslog i adapta\u2019l a les teves prefer\u00e8ncies.</p> <pre><code>nano /etc/rsyslog.d/50-default.conf\n</code></pre> <p>Aqu\u00ed podem canviar la destinaci\u00f3 dels fitxers dels logs. </p> <p></p> <p>Per simular una alerta de mail i comprovar on es guarda aquest log, es pot executar la comanda:</p> <p></p> <p>I per a veure el log podem fer la seg\u00fcent comanda:</p> <pre><code>cat /var/log/mail.log\n</code></pre> <p></p>"},{"location":"monitoratge/#installacio-grafana","title":"Instal\u00b7laci\u00f3 grafana","text":"<p>Per comen\u00e7ar, instal\u00b7lem grafana amb les seg\u00fcents comandes:</p> <pre><code>sudo apt install -y software-properties-common\n</code></pre> <p></p> <pre><code>sudo add-apt-repository \"deb https://packages.grafana.com/oss/deb stable main\"\n</code></pre> <p></p> <pre><code>wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\n</code></pre> <p></p> <pre><code>sudo apt install -y grafana\n</code></pre> <p></p> <p>Un cop ja haguesim fet aquestes comandes, hem d'niciar el servei de grafana amb les seg\u00fcents comandes</p> <pre><code>sudo systemctl enable grafana-server\n</code></pre> <pre><code>sudo systemctl start grafana-server\n</code></pre> <p>I per acabar podem fer un status per a comprovar que s'hagi posat en \"enable\"</p> <pre><code>sudo systemctl status grafana-server.service\n</code></pre> <p></p> <p>I per a entrar a grafana, obrim un navegador i introduim el seg\u00fcent:</p> <pre><code>http://[La nostra IP]:3000\n</code></pre> <p></p> <p>IMPORTANT: La contrasenya i usuari per defecte \u00e9s admin admin</p>"},{"location":"monitoratge/#installacio-de-loki","title":"Instal\u00b7laci\u00f3 de Loki","text":"<p>Loki \u00e9s una eina de agregaci\u00f3 i centralitzaci\u00f3 de logs desenvolupada per Grafana Labs. La seva arquitectura optimitzada permet recollir i indexar logs de manera eficient, facilitant-ne la visualitzaci\u00f3 a trav\u00e9s de Grafana.</p>"},{"location":"monitoratge/#passos-per-a-la-installacio","title":"Passos per a la instal\u00b7laci\u00f3","text":"<ol> <li>Descarregar Loki     Obt\u00e9 l'\u00faltima versi\u00f3 des de la p\u00e0gina de GitHub:     <code>wget https://github.com/grafana/loki/releases/download/v2.7.1/loki-linux-amd64.zip</code></li> </ol> <ol> <li>Extracci\u00f3 i instal\u00b7laci\u00f3     Descomprimeix el fitxer i mou el binari a /usr/local/bin:     <code>sudo unzip loki-linux-amd64.zip -d /usr/local/bin     sudo chmod +x /usr/local/bin/loki-linux-amd64</code></li> </ol> <ol> <li> <p>Configurar Loki     Crea un fitxer de configuraci\u00f3 b\u00e0sic (ex.: /etc/loki-config.yaml) amb el seg\u00fcent contingut:     ```     auth_enabled: false</p> <p>server:   http_listen_port: 3100</p> <p>common: ring: instance_addr: 127.0.0.1 kvstore:     store: inmemory     replication_factor: 1     path_prefix: /tmp/loki</p> <p>schema_config:   configs:      - from: 2020-05-15         store: tsdb         object_store: filesystem         schema: v13         index:           prefix: index_           period: 24h</p> <p>storage_config:   boltdb:      directory: /tmp/loki/chunks ``` </p> </li> </ol> <p>Ara, creem el deamon del loki</p> <pre><code>wget https://github.com/grafana/loki/releases/latest/download/loki-linux-amd64.zip\n</code></pre> <pre><code>unzip loki-linux-amd64.zip\n</code></pre> <pre><code>sudo mv loki-linux-amd64 /usr/local/bin/loki\n</code></pre> <pre><code>sudo chmod +x /usr/local/bin/loki\n</code></pre> <p></p> <p></p> <p>Creaci\u00f3 del fitxer:</p> <pre><code>sudo nano /etc/systemd/system/loki.service\n</code></pre> <p></p> <p></p>"},{"location":"permisos/","title":"Permisos en linux","text":"<p>Els permisos en Linux controlen qui pot llegir, executar o escriure fitxers o directoris:</p> <ul> <li>r: Permet llegir</li> <li>w: Permet escriure</li> <li>x: Permet executar</li> </ul> <p>Aqu\u00ed tenim una imatge de exemple per a comprovar com funciona</p> <p></p> <p>Podem veure que hi han 10 car\u00e0cters per als permisos, cada 3 car\u00e0cters \u00e9s per a un usuari diferent:</p> <p>Els tres primers car\u00e0cters (obviant la d, que vol dir que \u00e9s un directori) s\u00f3n per a el propietari del fitxer. Com podem comprovar t\u00e9 tots els permisos (rwx)</p> <p>Els altres tres son per al grup associat al fitxer. Com podem comprovar pot llegir i executar (-xr)</p> <p>I els tres \u00faltims son per a els altres usuaris. Nom\u00e9s por executar (-x)</p>"},{"location":"permisos/#modificar-permisos","title":"Modificar permisos","text":"<p>Amb la comanda <code>chmod</code> podem modificar els permisos dels fitxers i directoris. Aqu\u00ed hi ha alguns exemples de comandes <code>chmod</code>:</p> <ul> <li><code>chmod 755 fitxer</code>: Assigna permisos de lectura, escriptura i execuci\u00f3 per al propietari, i permisos de lectura i execuci\u00f3 per al grup i altres usuaris.</li> <li><code>chmod 644 fitxer</code>: Assigna permisos de lectura i escriptura per al propietari, i nom\u00e9s permisos de lectura per al grup i altres usuaris.</li> <li><code>chmod +x fitxer</code>: Afegeix el perm\u00eds d'execuci\u00f3 per a tots els usuaris.</li> <li><code>chmod -r fitxer</code>: Treu el perm\u00eds de lectura per a tots els usuaris.</li> <li><code>chmod u+w fitxer</code>: Afegeix el perm\u00eds d'escriptura nom\u00e9s per al propietari.</li> <li><code>chmod g-r fitxer</code>: Treu el perm\u00eds de lectura nom\u00e9s per al grup.</li> <li><code>chmod o+x fitxer</code>: Afegeix el perm\u00eds d'execuci\u00f3 nom\u00e9s per als altres usuaris.</li> </ul> <p>Aquestes comandes ens permeten controlar qui pot accedir i modificar els nostres fitxers i directoris.</p>"},{"location":"permisos/#taula-permisos","title":"Taula permisos","text":"N\u00famero Permisos Descripci\u00f3 0 --- Sense permisos 1 --x Nom\u00e9s executar 2 -w- Nom\u00e9s escriure 3 -wx Escriure i executar 4 r-- Nom\u00e9s llegir 5 r-x Llegir i executar 6 rw- Llegir i escriure 7 rwx Llegir, escriure i executar"},{"location":"permisos/#sticky-bit","title":"Sticky bit","text":"<p>El sticky bit \u00e9s un perm\u00eds especial que es pot assignar a un directori. Quan el sticky bit est\u00e0 activat en un directori, nom\u00e9s el propietari del fitxer, el propietari del directori o l'usuari root poden esborrar o canviar el nom dels fitxers dins d'aquest directori. Aix\u00f2 \u00e9s \u00fatil en directoris compartits on molts usuaris poden crear fitxers, per\u00f2 no es vol que puguin esborrar o modificar els fitxers d'altres usuaris.</p> <p>Per activar el sticky bit en un directori, es pot utilitzar la comanda <code>chmod</code> amb el valor <code>+t</code>. Aqu\u00ed hi ha un exemple:</p> <ul> <li><code>chmod +t directori</code>: Activa el sticky bit en el directori especificat.</li> </ul> <p>Per desactivar el sticky bit, es pot utilitzar la comanda <code>chmod</code> amb el valor <code>-t</code>:</p> <ul> <li><code>chmod -t directori</code>: Desactiva el sticky bit en el directori especificat.</li> </ul> <p>Quan el sticky bit est\u00e0 activat, els permisos del directori es mostren amb una <code>t</code> al final dels permisos per als altres usuaris. Per exemple:</p> <ul> <li><code>drwxrwxrwt</code>: Indica que el directori t\u00e9 el sticky bit activat.</li> </ul>"},{"location":"pinning/","title":"Pinning packet","text":"<p>El pinning packet consisteix en establir una versi\u00f3 per a instal\u00b7lar-la en comptes de fer una instal\u00b7laci\u00f3 de la \u00faltima versi\u00f3 del programa. </p> <p>El que he fet ha estat instal\u00b7lar el programa smplayer, per a provar la funcionalitat del pinning packet. Despr\u00e9s d'instal\u00b7lar-lo amb un </p> <pre><code>sudo apt install smplayer\n</code></pre> <p>El que hem de fer es comprovar la versi\u00f3, i la versi\u00f3 prioritzada amb la comanda </p> <pre><code>sudo apt-cache policy smplayer\n</code></pre> <p></p> <p>Com podem comprovar s'ha instal\u00b7lat la versi\u00f3 predefinida que \u00e9s la \"Candidat\". Despr\u00e9s de comprovar aix\u00f2, el que hem de fer \u00e9s crear un arxiu amb el nom que vulguis, jo l'he posat preferences_smplayer.txt, a l'ubicaci\u00f3 \"/etc/apt/preferences.d/\". \u00c9s a dir, primer haurem de fer aquesta comanda per anar a la ubicaci\u00f3 nomenada anteriorment.</p> <pre><code>cd /etc/apt/preferences.d/\n</code></pre> <p>Despr\u00e9s de fer un cd, el que hem de fer \u00e9s generar un document .txt, ho podem fer amb la seg\u00fcent comanda:</p> <pre><code>sudo touch nom_arxiu\n</code></pre> <p>Un cop creat l'arxiu, l'hem de editar. </p> <pre><code>sudo nano nom_arxiu\n</code></pre> <p>Un cop fet el nano, podrem editar l'arxiu.</p> <p></p> <p>En aquesta imatge el que diu es que el paquet \"smplayer\" amb la versi\u00f3 22 o superior t\u00e9 una prioritat de 400, mentre que la versi\u00f3 21 de smplayer t\u00e9 una prioritat de 500. \u00c9s a dir que ara en fer la comanda \"sudo apt-cache policy smplayer\" hauria de sortir com a versi\u00f3 candidat la 23</p>"},{"location":"procesos/","title":"Gesti\u00f3 de procesos","text":""},{"location":"procesos/#que-es-un-proces","title":"Qu\u00e8 \u00e9s un proc\u00e9s?","text":"<p>Un proc\u00e9s \u00e9s un programa en execuci\u00f3 que inclou:</p> <ul> <li>Codi del programa.</li> <li>Recursos assignats (mem\u00f2ria, fitxers oberts, etc.).</li> <li>Execuci\u00f3 en un o m\u00e9s fils (threads).</li> </ul> <p>Tipus de processos:</p> <ul> <li>En primer pla: Interactuen amb l'usuari a la terminal.</li> <li>En segon pla: Funcionen sense interferir directament amb l'usuari.</li> </ul>"},{"location":"procesos/#comanda-top","title":"Comanda <code>top</code>","text":"<p>Mostra en temps real els processos actius.</p> <p>Informaci\u00f3 mostrada:</p> <ul> <li>PID: Identificador del proc\u00e9s.</li> <li>USER: Usuari que va iniciar el proc\u00e9s.</li> <li>%CPU: Percentatge d'\u00fas del processador.</li> <li>%MEM: Percentatge d'\u00fas de la mem\u00f2ria RAM.</li> <li>COMMAND: Nom del proc\u00e9s.</li> </ul> <p></p> <p><code>Si premem la tecla k i introduim el nombre de proces que volem apagar, aquest proc\u00e9s s'apagar\u00e0.</code></p>"},{"location":"procesos/#htop","title":"htop","text":"<p>Htop es b\u00e0sicament el mateix que top, per\u00f2 m\u00e9s user friendly per a les persones que no estan gaire acostumbrades. \u00c9s m\u00e9s c\u00f3mode i \u00e9s mes agradable visualment</p> <p>Per instal\u00b7lar-lo utilitzarem la seg\u00fcent comanda:</p> <pre><code>sudo apt install htop\n</code></pre> <p></p>"},{"location":"procesos/#senyals-de-processos","title":"Senyals de processos","text":"<p>Els senyals permeten interactuar amb els processos, com tancar-los, pausar-los o reprendre'ls. Alguns senyals comuns:</p> <ul> <li>SIGTERM (15): Sol\u00b7licita que el proc\u00e9s acabi de manera ordenada.</li> <li>SIGKILL (9): For\u00e7a la terminaci\u00f3 immediata del proc\u00e9s.</li> <li>SIGSTOP (19): Pausa el proc\u00e9s sense matar-lo.</li> <li>SIGCONT (18): Repr\u00e8n un proc\u00e9s pausat.</li> </ul>"},{"location":"procesos/#matar-i-gestionar-processos","title":"Matar i gestionar processos","text":"<ul> <li>La comanda <code>kill</code>: Permet enviar senyals als processos per finalitzar-los o gestionar el seu estat.<ul> <li>kill : Envia un senyal de terminaci\u00f3. <li>kill -9 : For\u00e7a la terminaci\u00f3 immediata (SIGKILL). <li>Comanda <code>pkill</code>: Permet matar processos per nom.</li> <li>Comanda <code>killall</code>: Mata tots els processos amb un mateix nom.</li>"},{"location":"procesos/#gestio-de-processos-amb-ctrlc-i-ctrlz","title":"Gesti\u00f3 de processos amb Ctrl+C i Ctrl+Z","text":"<ul> <li>Ctrl+C: Finalitza immediatament el proc\u00e9s en primer pla.</li> <li>Ctrl+Z: Pausa el proc\u00e9s en primer pla i el mou al segon pla (estat \"Aturat\").</li> </ul>"},{"location":"procesos/#processos-zombies","title":"Processos zombies","text":"<p>Un proc\u00e9s zombi \u00e9s un proc\u00e9s que ha finalitzat per\u00f2 encara ocupa una entrada a la taula de processos perqu\u00e8 el seu proc\u00e9s pare no ha recollit el seu codi de sortida.</p> <p>Identificar-los: Utilitza ps aux | grep Z per veure els processos zombies. Matar-los: Utilitza kill  o kill -9  per eliminar-los."},{"location":"puntsrestauracio/","title":"Punts de restauraci\u00f3","text":"<p>Aqu\u00ed ensenyarem com recuperar el sistema operatiu en cas de que no s'arranqui amb dues eines diferents</p> <p>Primer, per a provar com fer-ho haurem d'eliminar la carpeta grub, utilitzant la seg\u00fcent comanda al terminal de la m\u00e0quina virtual:</p> <pre><code>sudo rm -rf /boot/grub/\n</code></pre> <p></p> <p>Un cop tenim el grub eliminat de la m\u00e0quina virtual, hem de reiniciar la m\u00e0quina i ens sortir\u00e0 aquest men\u00fa cada vegada que vulguem iniciar-la</p> <p></p> <p>Parem la m\u00e0quina virtual, i al men\u00fa del Virtual Box, cliquem l'opci\u00f3 marcada amb la fletxeta, i despr\u00e9s sel\u00b7leccionem la ISO amb el seg\u00fcent enlla\u00e7: </p> <pre><code>https://sourceforge.net/projects/supergrub2/files/2.06s4/super_grub2_disk_2.06s4/supergrub2-classic-2.06s4-multiarch-CD.iso/download\n</code></pre> <p></p> <p>Iniciem la m\u00e0quina amb la iso col\u00b7locada i llavors al iniciar-la, podrem veure un men\u00fa amb diferentes opcions, seleccionarem la que diu \"Detect and show boot methods\" i presionem enter</p> <p></p> <p>Ara seleccionem la seg\u00fcent opci\u00f3</p> <p></p> <p>Un cop fem aixo, el ordinador funcionar\u00e0 correctament, per\u00f2 haurem de fer diverses comandes al terminal.</p> <pre><code>sudo grub-install /dev/sda\n</code></pre> <pre><code>sudo update-grub2\n</code></pre> <p></p> <p>Aixi \u00e9s com hauria de quedar, un cop haguessim completat tots aquestos passos ja hauriem recuperat el grub del ordinador</p>"},{"location":"raids1/","title":"Configuraci\u00f3 de RAID 1","text":"<p>Aquest document detalla el m\u00e8tode per establir un RAID 1 usant dos discs d'1GB. RAID 1 copia la informaci\u00f3 entre els discs, proporcionant redund\u00e0ncia i seguretat en el cas que algun disc falli.</p>"},{"location":"raids1/#installacio-de-leina-de-gestio-de-raid","title":"Instal\u00b7laci\u00f3 de l'eina de gesti\u00f3 de RAID","text":"<p>Instal\u00b7leu mdadm, que s'utilitzar\u00e0 per crear i controlar el RAID:</p> <pre><code>sudo apt install mdadm \n</code></pre> <p>Mdadm \u00e9s l'eina per gestionar dispositius RAID per programari (MD) a Linux. Aquesta eina permet: - Crear arrays RAID amb diversos nivells (com RAID 0, RAID 1, RAID 5, etc.). - Monitoritzar l'estat del RAID, detectant errors i fallades de discs. - Reconfigurar i reconstruir l'array en cas de fallida d'un disc. - Facilitar la gesti\u00f3 i manteniment d'arranjaments RAID, millorant la redund\u00e0ncia i seguretat de les dades.</p> <p>Per a instal\u00b7lar-ho: </p>"},{"location":"raids1/#preparacio-dels-discs","title":"Preparaci\u00f3 dels Discs","text":""},{"location":"raids1/#esborrat-de-la-informacio-dels-discs","title":"Esborrat de la informaci\u00f3 dels discs","text":"<p>Comproveu que els discs estan buits o que \u00e9s acceptable perdre les dades emmagatzemades.</p>"},{"location":"raids1/#particionament-dels-discs","title":"Particionament dels discs","text":"<p>Creeu particions indicant l'opci\u00f3 \"t\" per definir el tipus i \"fd\" per especificar que la partici\u00f3 \u00e9s per Linux RAID autodetectable.</p> <p></p>"},{"location":"raids1/#elaboracio-del-disc","title":"Elaboraci\u00f3 del disc","text":""},{"location":"raids1/#creacio-del-directori-de-muntatge","title":"Creaci\u00f3 del Directori de Muntatge","text":"<p>Creeu un directori, per exemple, /mnt/raid1, i ajusteu els permisos (temporellement 777) per facilitar les proves. </p>"},{"location":"raids1/#formacio-del-dispositiu-raid-1","title":"Formaci\u00f3 del Dispositiu RAID 1","text":""},{"location":"raids1/#creacio-del-raid","title":"Creaci\u00f3 del RAID","text":"<p>Utilitzeu mdadm per unir les particions dels dos discs (per exemple, /dev/sda1 i /dev/sdb1) en un dispositiu RAID 1:</p> <pre><code>sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda1 /dev/sdb1\n</code></pre> <p></p>"},{"location":"raids1/#monitoritzacio-de-lestat-del-raid","title":"Monitoritzaci\u00f3 de l'Estat del RAID","text":"<p>Comproveu la creaci\u00f3 del RAID amb:</p> <pre><code>cat /proc/mdstat\n# o\nmdadm --detail /dev/md0\n</code></pre> <p></p>"},{"location":"raids1/#configuracio-i-actualitzacio-de-mdadm","title":"Configuraci\u00f3 i Actualitzaci\u00f3 de mdadm","text":"<p>Guardeu la configuraci\u00f3 actual del RAID al fitxer de configuraci\u00f3:</p> <pre><code>mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf\n</code></pre> <p></p>"},{"location":"raids1/#revisio-del-fitxer-de-configuracio","title":"Revisi\u00f3 del Fitxer de Configuraci\u00f3","text":"<p>Editeu el fitxer <code>/etc/mdadm/mdadm.conf</code> (per exemple, amb nano) per verificar i ajustar la configuraci\u00f3:</p> <pre><code>nano /etc/mdadm/mdadm.conf\n</code></pre> <p></p>"},{"location":"raids1/#formatacio-i-muntatge-del-raid","title":"Formataci\u00f3 i Muntatge del RAID","text":""},{"location":"raids1/#formateig","title":"Formateig","text":"<p>Un cop el RAID (<code>/dev/md0</code>) s'hagi creat i sincronitzat, formateu-lo amb un sistema d'arxius com ext4:</p> <pre><code>mkfs.ext4 /dev/md0\n</code></pre> <p></p>"},{"location":"raids1/#configuracio-per-a-muntatge-automatic","title":"Configuraci\u00f3 per a Muntatge Autom\u00e0tic","text":"<p>Afegiu una l\u00ednia a <code>/etc/fstab</code> per muntar el RAID autom\u00e0ticament durant l'arrencada. Exemple:</p> <pre><code>/dev/md0    /mnt/raid1    ext4    defaults    0    0\n</code></pre> <p></p>"},{"location":"raids1/#muntatge-i-actualitzacio-del-sistema","title":"Muntatge i Actualitzaci\u00f3 del Sistema","text":"<p>Executeu les ordres per muntar el RAID i actualitzar la configuraci\u00f3 d'arrencada:</p> <pre><code>mount /mnt/raid1\nupdate-initramfs -u -k all\n</code></pre>"},{"location":"raids1/#verificacio-del-funcionament","title":"Verificaci\u00f3 del Funcionament","text":""},{"location":"raids1/#creacio-dun-fitxer-de-comprovacio","title":"Creaci\u00f3 d'un Fitxer de Comprovaci\u00f3","text":"<p>Creeu un fitxer anomenat <code>prova.txt</code> al directori muntat per assegurar el correcte funcionament. </p>"},{"location":"raids1/#desconnexio-dun-disc","title":"Desconnexi\u00f3 d'un Disc","text":"<p>Simuleu una fallada desconnectant un disc del RAID:</p> <pre><code>mdadm /dev/md0 -f /dev/sdb1\n</code></pre> <p></p>"},{"location":"raids1/#comprovacio-del-estat-del-raid","title":"Comprovaci\u00f3 del Estat del RAID","text":"<p>Verifiqueu que el disc <code>/dev/sdb1</code> apareix en estat \"faulty\":</p> <pre><code>mdadm --detail /dev/md0\n</code></pre> <p></p>"},{"location":"raids1/#verificacio-de-la-integritat-de-les-dades","title":"Verificaci\u00f3 de la Integritat de les Dades","text":"<p>Confirmeu que les dades romanen accessibles, per exemple, fent un <code>ls</code> al directori muntat (/mnt/raid1).</p> <p></p>"},{"location":"raids1/#reinsercio-del-disc","title":"Reinserci\u00f3 del Disc","text":"<p>Torneu a afegir el disc per iniciar el proc\u00e9s de reconstrucci\u00f3:</p> <pre><code>mdadm /dev/md0 -a /dev/sdb1\n</code></pre> <p></p>"},{"location":"raids1/#netejar-la-configuracio","title":"Netejar la Configuraci\u00f3","text":"<ul> <li>Esborreu el contingut del fitxer <code>/etc/mdadm/mdadm.conf</code> (o deixeu-lo sense contingut).</li> <li>Elimineu o comenteu la l\u00ednia afegida al fitxer <code>/etc/fstab</code>.</li> </ul>"},{"location":"raids5/","title":"Raids5","text":""},{"location":"raids5/#configuracio-del-raid-5","title":"Configuraci\u00f3 del RAID 5","text":"<p>RAID 5 distribueix dades i paritat entre tots els discos, cosa que permet recuperar informaci\u00f3 en cas falli un d'ells. En aquest exemple s'utilitzen quatre discs, en els quals la paritat aporta una protecci\u00f3 extra.</p>"},{"location":"raids5/#afegir-els-discos","title":"Afegir els Discos","text":"<p>Abans de crear el RAID, assegureu-vos que els quatre discs estan correctament connectats, tant visualment com utilitzant eines de gesti\u00f3 del sistema.</p> <p></p> <p>Verificaci\u00f3: Executeu la comanda <code>lsblk</code> per confirmar que tots els dispositius estan reconeguts pel sistema.</p> <p></p>"},{"location":"raids5/#creacio-de-particions","title":"Creaci\u00f3 de Particions","text":"<p>Per cada disc, creeu particions indicant el tipus adequat. utilitzeu l'opci\u00f3 <code>t</code> per definir el format i establiu el tipus amb <code>fd</code>, que identifica les particions com a Linux RAID autodetectable.</p> <p>Aqu\u00ed poso un per a que el tingueu per a exemple:</p> <p></p> <p>Aqui podem veure com s'ha fet a tots.</p> <p></p>"},{"location":"raids5/#creacio-del-raid-5","title":"Creaci\u00f3 del RAID 5","text":"<p>Per agrupar les particions dels quatre discs en un dispositiu RAID, executeu:</p> <pre><code>sudo mdadm --create /dev/md0 --level=5 --raid-devices=4 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1\n</code></pre> <p>Aquesta comanda crea el dispositiu <code>/dev/md0</code>.</p> <p></p> <p>Comprovem que s'hagi fet tot correctament.</p> <p></p>"},{"location":"raids5/#formatacio-i-muntatge","title":"Formataci\u00f3 i Muntatge","text":"<p>Formatgeu el dispositiu RAID amb el sistema d'arxius desitjat (per exemple, ext4) per preparar-lo per l'emmagatzematge.</p> <p></p> <p>Muntatge</p> <p>Primer, creeu un directori per al muntatge (per exemple, /mnt/raid5). A continuaci\u00f3, munteu-hi el dispositiu RAID de manera temporal per comprovar que funciona correctament.</p> <p></p>"},{"location":"raids5/#muntatge-temporal","title":"Muntatge temporal","text":"<p>Creem un directori de manera temporal per comprovar-ne el funcionament.</p> <p></p>"},{"location":"raids5/#preservacio-de-la-configuracio","title":"Preservaci\u00f3 de la Configuraci\u00f3","text":"<p>Guardeu la configuraci\u00f3 actual del RAID executant:</p> <pre><code>mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf\n</code></pre> <p>Reviseu el fitxer <code>/etc/mdadm/mdadm.conf</code> amb el vostre editor preferit per assegurar que la configuraci\u00f3 s'ha desat correctament.</p> <p></p> <p></p>"},{"location":"raids5/#configuracio-del-muntatge-automatic","title":"Configuraci\u00f3 del Muntatge Autom\u00e0tic","text":"<p>Per muntar el dispositiu RAID autom\u00e0ticament en arrencar el sistema, afegiu la l\u00ednia corresponent al fitxer <code>/etc/fstab</code>.</p> <p></p>"},{"location":"raids5/#actualitzacio-del-sistema-darrencada","title":"Actualitzaci\u00f3 del Sistema d'Arrencada","text":"<p>Finalment, actualitzeu la configuraci\u00f3 d'arrencada amb:</p> <pre><code>update-initramfs -u -k all\n</code></pre> <p>Aix\u00f2 garanteix que el RAID s'inclour\u00e0 en el proc\u00e9s d'arrencada durant els futurs reinicis.</p> <p></p>"},{"location":"raids5/#proves-del-raid-5","title":"Proves del RAID 5","text":"<p>Per verificar la integritat de les dades: 1. Creeu fitxers de prova dins del directori muntat.</p> <p></p> <ol> <li>Simuleu la fallada d'un disc (p.ex., el disc n\u00famero 2) eliminant-lo del conjunt RAID.</li> </ol> <p></p> <ol> <li>Reinicieu el sistema per confirmar que la informaci\u00f3 segueix disponible i la redund\u00e0ncia protegeix les dades.</li> </ol> <p>Com es pot veure, falta un disc.  </p> <p>Per\u00f2 continuen estant tots els fitxers anteriors. </p> <p></p>"},{"location":"raids5/#tornem-a-afegir-el-disc","title":"Tornem a afegir el disc","text":"<p>Si tornem a afegir el disc, continuar\u00e0 tot igual. L'\u00fanic que podem apreciar \u00e9s qe el sdc i el sdd han canviat de posici\u00f3.</p> <p></p> <p>I en quant als fitxers, continuen estant al mateix lloc. </p> <p></p>"},{"location":"samba/","title":"Samba","text":""},{"location":"samba/#presentacio-de-samba","title":"Presentaci\u00f3 de Samba","text":"<p>Samba \u00e9s un programari gratu\u00eft i de codi obert que implementa el protocol SMB/CIFS, facilitant la transmissi\u00f3 de dades i la gesti\u00f3 d\u2019impressores en xarxes h\u00edbrides. El seu objectiu principal \u00e9s oferir una integraci\u00f3 sense friccions entre els entorns de Windows i de Unix/Linux.</p>"},{"location":"samba/#caracteristiques-i-avantatges-de-samba","title":"Caracter\u00edstiques i Avantatges de Samba","text":"<ul> <li>Permet la compartici\u00f3 de recursos com fitxers i impressores en entorns mixtos.</li> <li>Facilita la integraci\u00f3 de servidors Linux/Unix en xarxes predominantment Windows.</li> <li>Proporciona una gesti\u00f3 centralitzada de l\u2019autenticaci\u00f3 i dels permisos d\u2019acc\u00e9s.</li> </ul>"},{"location":"samba/#comparacio-amb-nfs","title":"Comparaci\u00f3 amb NFS","text":"Aspecte Samba NFS Protocol SMB/CIFS NFS (Network File System) Compatibilitat Dissenyat per funcionar en entorns diversos amb suport per Windows i Linux Optimitzat principalment per a Unix/Linux Autenticaci\u00f3 Ofereix autenticaci\u00f3 robusta amb control detallat dels permisos Basada en l\u2019identificaci\u00f3 del host i l\u2019adre\u00e7a IP Usos Comuns Compartici\u00f3 de recursos, \u00fas d\u2019impressores i administraci\u00f3 centralitzada Transfer\u00e8ncia r\u00e0pida de fitxers"},{"location":"samba/#procediment-dinstallacio-de-samba","title":"Procediment d\u2019Instal\u00b7laci\u00f3 de Samba","text":"<ol> <li>Actualitzaci\u00f3 de la llista de paquets: <code>sudo apt-get update</code></li> <li>Instal\u00b7laci\u00f3 de Samba: <code>sudo apt-get install samba</code></li> </ol> <p>M\u00e9s endavant s\u2019explicar\u00e0 com crear el directori a compartir, assignant-li els permisos pertinents. Cal que el propietari i el grup siguin nobody:nogroup; en aquest exemple, s\u2019usa el perm\u00eds 777 per simplificar el proc\u00e9s.</p> <p></p>"},{"location":"samba/#edicio-del-fitxer-de-configuracio-smbconf","title":"Edici\u00f3 del Fitxer de Configuraci\u00f3 smb.conf","text":"<p>Per configurar la compartici\u00f3 del directori creat, s\u2019ha de modificar el fitxer de configuraci\u00f3 de Samba, ubicat a <code>/etc/samba/smb.conf</code>, afegint-hi una configuraci\u00f3 b\u00e0sica.</p> <p></p> <p>En aquest exemple, es defineix el directori compartit juntament amb opcions com guest ok i browsable (que pot ser \"yes\" o \"no\" segons els requisits). Tamb\u00e9 es configuren els par\u00e0metres directory mask i create mask per gestionar els permisos dels directoris i fitxers.</p> <p>Pel que fa als permisos espec\u00edfics:</p> <ul> <li>L\u2019opci\u00f3 read list concedeix acc\u00e9s de lectura exclusiva a l\u2019usuari jesus i al grup professors (identificat amb l\u2019arrova @).</li> <li>L\u2019opci\u00f3 write list permet nom\u00e9s a jesus l\u2019\u00e8mfasi en l\u2019escriptura.</li> <li>L\u2019usuari joan no rebr\u00e0 permisos ni acc\u00e9s al recurs compartit.</li> </ul> <p>Un cop fet aix\u00f2, reiniciem i comprovem que s'hagi fet correctament.</p> <p></p> <p>Ara, creem els usuaris i els assignem als grups amb la seg\u00fcent comanda:</p> <pre><code>useradd -M -s /sbin/nbologin \"nom\"\n</code></pre> <p>i despr\u00e9s amb un tail comprovem que els usuaris s'hagin creat correctament.</p> <p></p> <p>Ara, per a que la gentu pugui accedir-hi remotament al servidor samba, el que s'ha de fer \u00e9s assignar una contrasenya a l'usuari amb la seg\u00fcent comanda:</p> <pre><code>smbpasswd -a \"nom\"\n</code></pre> <p></p> <p>Un cop ja hem assignat contrasenya a cada usuari ja podrem passar al client.</p>"},{"location":"samba/#configuracio-client-samba","title":"Configuraci\u00f3 client samba","text":"<p>El primer que hem de fer a la m\u00e0quina del client per a poder connectar-nos a samba, \u00e9s instal\u00b7lar smbclient a la nostra m\u00e0quina de client.</p> <p></p> <p>Una vegada hem instal\u00b7lat el smb client, el necessari es obrir l'apartat de Altres ubicacions al cercador de fitxers, afegim la nostra ip la cual t\u00e9 el servidor samba i el nom del directori que hem compartit.</p> <p></p> <p>Podem entrar com a un usuari an\u00f2nim, pero no podrem visualisar fitxers ni eliminar-ne</p> <p></p> <p>Com es pot veure, si intentem eliminar algun arxiu dintre del directori com a usuari an\u00f2nim, ens dira que no podem per falta de permisos.</p> <p></p> <p>Ara, ens connectarem com a l'usuari jesus, aquest ususari t\u00e9 tots els permisos, i borrarem la seva carpeta que anteriorment no ens havia deixat borrar.</p> <p></p> <p>Com podem veure, la carpeta jesus ja no hi \u00e9s.</p> <p></p>"},{"location":"seract/","title":"Servidor d'Actualitzacions","text":""},{"location":"seract/#que-es-un-servidor-dactualitzacions","title":"Qu\u00e8 \u00e9s un Servidor d'Actualitzacions?","text":"<p>Es tracta d\u2019un punt central que agrupa tots els paquets necessaris per actualitzar els sistemes. Amb aquesta configuraci\u00f3, els clients es connecten al nostre servidor en lloc de recurrir als repositoris en l\u00ednia per defecte.</p>"},{"location":"seract/#funcionament","title":"Funcionament","text":"<p>Es fa servir una combinaci\u00f3 d\u2019eines com <code>apt-mirror</code> i <code>apache2</code>: - Quan es realitza un <code>apt update</code>, el client contacta amb la IP del servidor central. - El servidor, que ha descarregat pr\u00e8viament els paquets, en fa la distribuci\u00f3.</p> <p>Detalls importants: - Recollida de paquets: El servidor conserva una c\u00f2pia local de cada paquet. - Sincronitzaci\u00f3 amb clients: Els clients descarreguen directament des del servidor central, reduint la necessitat d'acc\u00e9s als repositoris externs.</p>"},{"location":"seract/#usos-i-beneficis","title":"Usos i Beneficis","text":"<p>Aquest sistema resulta especialment \u00fatil en entorns com: - Empreses: On el control de versions i la seguretat s\u00f3n fonamentals. - Xarxes amb acc\u00e9s limitat a Internet: Permet actualitzacions sense necessitat de connexions externes. - Proves controlades: Facilita la validaci\u00f3 de noves versions abans de la seva distribuci\u00f3 massiva. - Monitoritzaci\u00f3: Registra totes les actualitzacions, ajudant a detectar incid\u00e8ncies.</p>"},{"location":"seract/#avantatges-i-inconvenients","title":"Avantatges i Inconvenients","text":""},{"location":"seract/#avantatges","title":"Avantatges","text":"<ul> <li>Centralitzaci\u00f3: Facilita la gesti\u00f3 i verificaci\u00f3 dels paquets.</li> <li>Estalvi en amplada de banda: Nom\u00e9s es descarrega una c\u00f2pia local dels paquets.</li> <li>Uniformitat en les versions: Assegura que tots els clients utilitzen els mateixos paquets.</li> </ul>"},{"location":"seract/#inconvenients","title":"Inconvenients","text":"<ul> <li>Punt \u00fanic de fallada: La indisponibilitat del servidor afecta tots els clients.</li> <li>Manteniment addicional: Requereix recursos per assegurar el seu correcte funcionament.</li> <li>Configuraci\u00f3 inicial complexa: Pot resultar m\u00e9s complicat que utilitzar repositoris en l\u00ednia.</li> </ul>"},{"location":"seract/#consideracions-de-seguretat","title":"Consideracions de Seguretat","text":"<ul> <li>Filtrat de continguts: Configurable per descarregar nom\u00e9s paquets verificats.</li> <li>Entorns a\u00efllats: Permet actualitzacions sense exposar els clients a Internet.</li> <li>Control d\u2019acc\u00e9s: Es poden implementar mecanismes d\u2019autenticaci\u00f3 i registre per monitoritzar les peticions.</li> </ul>"},{"location":"seract/#configuracio-del-servidor","title":"Configuraci\u00f3 del Servidor","text":"<p>Instal\u00b7lem el paquet <code>apt-mirror</code> per baixar i mantenir actualitzada una r\u00e8plica local dels repositoris APT, d'acord amb el fitxer de configuraci\u00f3. Aix\u00f2 permet als clients descarregar les actualitzacions directament des del servidor.</p> <p></p> <p>Editem el fitxer /etc/apt/mirror.list. En aquest fitxer, es comenten les l\u00ednies que es troben dins de l'apartat (1) i s'afegeix la l\u00ednia n\u00famero (2) per definir el repositori o paquet que es vol mirrorar.</p> <pre><code>sudo nano /etc/apt/mirror.list\n</code></pre> <p> A continuaci\u00f3, s'inicia l'eina apt-mirror amb privilegis de superusuari (mitjan\u00e7ant sudo) per descarregar tots els paquets especificats al fitxer mirror.list. Aquest procediment obt\u00e9 els paquets indicats.</p>"},{"location":"seract/#proces-dactualitzacio-en-marxa","title":"Proc\u00e9s d'Actualitzaci\u00f3 en Marxa","text":"<p>Despr\u00e9s d'executar el comandament <code>sudo apt-mirror</code> per descarregar els paquets, espera a que aparegui el missatge de finalitzaci\u00f3.</p> <p>Pasos seg\u00fcents: 1. Verificaci\u00f3: Revisa els logs a <code>/var/log/apt/mirror.log</code> per confirmar que la sincronitzaci\u00f3 s'ha completat correctament. 2. Enlla\u00e7 Simb\u00f2lic: Comprova que l'enlla\u00e7 simb\u00f2lic a <code>/var/www/html</code> apunta correctament als fitxers descarregats. 3. Prova de Connexi\u00f3: Accedeix des d'un client al servidor utilitzant la IP especificada per assegurar que tot funciona com s'espera.</p>"},{"location":"seract/#documentacio-i-configuracio-addicional","title":"Documentaci\u00f3 i Configuraci\u00f3 Addicional","text":"<p>Si tens dubtes, consulta la documentaci\u00f3 de <code>apt-mirror</code> i <code>apache2</code> per a m\u00e9s detalls.</p> <p></p> <p>Nota: Un cop finalitzat el proc\u00e9s, es crea un enlla\u00e7 simb\u00f2lic cap al paquet (per exemple, el de Google) dins del directori <code>/var/www/html</code>. Aix\u00f2 garanteix que tots els fitxers descarregats siguin accessibles via Apache2.</p> <p></p>"},{"location":"seract/#configuracio-dels-clients","title":"Configuraci\u00f3 dels Clients","text":"<ol> <li> <p>Actualitza la Llista de Paquets     Executa la comanda seg\u00fcent per renovar la llista de paquets disponibles:     <code>sudo apt update</code></p> </li> <li> <p>Incorpora la Clau P\u00fablica de Google     Baixa la clau p\u00fablica de signatura de Google i afegeix-la a <code>apt-key</code>:     <code>wget -q -O https://dl.google.com/linux/linux_signing_key.pub | apt-key add -</code></p> <p></p> </li> <li> <p>Edita la Configuraci\u00f3 de les Fonts     Obre el fitxer de configuraci\u00f3:     <code>nano /etc/apt/sources.list</code>     I afegeix l\u2019entrada amb la ruta del nostre servidor:     <code>deb [arch=amd64] http://10.0.2.15/dl.google.com/linux/chrome/deb stable main</code></p> <p></p> </li> <li> <p>Actualitza Novament i Verifica la Connexi\u00f3     Desada la configuraci\u00f3 i torna a executar:     <code>sudo apt update</code>     Comprova que el paquet es descarrega directament des del servidor amb IP 10.0.2.15.</p> <p></p> </li> <li> <p>Instal\u00b7la Firefox     Per finalitzar, instal\u00b7la Firefox amb:     <code>apt install firefox</code></p> <p></p> </li> </ol>"},{"location":"sisfitpart/","title":"Sistemes de fitxers i particions","text":""},{"location":"sisfitpart/#estructura-de-la-informacio","title":"Estructura de la informaci\u00f3","text":""},{"location":"sisfitpart/#mida-sector-i-bloc","title":"Mida sector i bloc","text":"<p>El sector \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades d'un disco. Per defecte \u00e9s 512 bytes i aquesta mida no es pot canviar mai. Aqu\u00ed, per comprovar que aix\u00f2 sigui real crearem un arxiu amb touch, i l'editarem amb un nano. </p> <p></p> <p>Un cop tenim l'arxiu creat amb la comanda touch, l'editem i posem un text dintre.</p> <p></p> <p>Un cop hem creat l'arxiu, comprovem que s'hagi creat correctament amb la comanda cat</p> <pre><code>cat erwin\n</code></pre> <p></p> <p>Hem vist anteriorment que s\u00ed que existeix l'arxiu, per tant, obrirem la carpeta i premem el bot\u00f3 dret damunt de l'arxiu i despr\u00e9s seleccionarem \"Propietats\". Com podem comprovar la mida de l'arxiu \u00e9s de 5 bytes.</p> <p></p> <p>Amb la comanda <code>du -sh</code>, el que estem fent \u00e9s una comanda que permet veure a l'usuari la cantitat real de temps que esta gastant</p> <p>-du: \u00e9s una abreviatura de \"Disk usage\", serveix per a inspeccionar l'\u00fas despai en arxius i directoris.</p> <p>--s: Fa que nom\u00e9s es mostri l'arxiu especificat, i no es posi a detallar cada subdirectori.</p> <p>-h: Fa que mostri la mida del arxiu en bytes.</p> <p></p> <p>Com hem pogut comprovar, l'arxiu realment ocupa 4 kbytes, fent que l'arxiu ocupi m\u00e9s del que realment ocupa. Aquestos 4 kbytes \u00e9s el que ocupa cada bloc, \u00e9s a dir, que cada bloc, est\u00e0 format per 8 sectors.</p>"},{"location":"sisfitpart/#fragmentacio-interna-i-externa","title":"Fragmentaci\u00f3 interna i externa","text":"<p>La fragmentaci\u00f3 interna \u00e9s l\u2019espai desaprofitat dins dels blocs perqu\u00e8 un fitxer no omple completament el bloc assignat. Aix\u00f2 es pot reduir ajustant la mida dels blocs. Blocs m\u00e9s petits redueixen la fragmentaci\u00f3 interna per\u00f2 poden disminuir el rendiment, especialment per a fitxers grans. Blocs m\u00e9s grans s\u00f3n eficients per a fitxers grans, per\u00f2 generen m\u00e9s fragmentaci\u00f3 interna amb fitxers petits.</p> <p>Quan un sistema operatiu utilitza el disc amb el temps, pot apar\u00e8ixer fragmentaci\u00f3 externa, on els blocs d\u2019un mateix fitxer queden dispersos al disc. Aix\u00f2 perjudica el rendiment. Per resoldre-ho, alguns sistemes operatius implementen eines de desfragmentaci\u00f3, tot i que els sistemes moderns sovint minimitzen aquest problema de manera autom\u00e0tica.</p>"},{"location":"sisfitpart/#tipus-de-formateig","title":"Tipus de formateig","text":""},{"location":"sisfitpart/#tipus-de-formateig_1","title":"Tipus de formateig","text":""},{"location":"sisfitpart/#formateig-de-baix-nivell","title":"Formateig de Baix Nivell","text":"<p>El formateig de baix nivell s'executa directament sobre el disc f\u00edsic a nivell de sectors. Aquest tipus de formateig detecta i intenta reparar sectors defectuosos, esborrant completament els fitxers i fent que la seva recuperaci\u00f3 sigui gaireb\u00e9 impossible. </p> <p>Exemple pr\u00e0ctic: Aquest tipus de formateig \u00e9s realitzat pels fabricants de discos abans de la seva distribuci\u00f3. Aquest proc\u00e9s crea la infraestructura f\u00edsica necess\u00e0ria per a l'emmagatzematge de dades. Els usuaris finals rarament realitzen aquest tipus de formateig, per\u00f2 hi ha eines especialitzades que permeten utilitzar-lo en casos de necessitat per reparar sectors defectuosos. Per exemple, si un disc dur presenta sectors defectuosos, es pot utilitzar una eina de formateig de baix nivell per intentar reparar-los i restaurar la funcionalitat del disc.</p>"},{"location":"sisfitpart/#formateig-de-nivell-mitja","title":"Formateig de Nivell Mitj\u00e0","text":"<p>El formateig de nivell mitj\u00e0 configura el sistema de fitxers, com ara FAT32, NTFS o ext4. Aquest tipus de formateig no esborra f\u00edsicament les dades, sin\u00f3 que elimina la informaci\u00f3 sobre la seva ubicaci\u00f3 al sistema de fitxers. Aix\u00f2 significa que els fitxers es poden recuperar amb eines especialitzades fins que es sobreescriguin.</p> <p>Exemple pr\u00e0ctic: Un exemple com\u00fa de formateig de nivell mitj\u00e0 \u00e9s canviar el sistema de fitxers d'un disc dur extern de FAT32 a ext4 per millorar la compatibilitat amb sistemes Linux. Aquest tipus de formateig \u00e9s \u00fatil quan necessites optimitzar el sistema de fitxers segons els tipus de dades que es gestionen. Per exemple, si tens un disc dur extern que utilitzes per emmagatzemar bases de dades grans, canviar el sistema de fitxers a ext4 et permetr\u00e0 gestionar millor els fitxers sense limitacions de mida.</p>"},{"location":"sisfitpart/#formateig-dalt-nivell-o-rapid","title":"Formateig d'Alt Nivell o R\u00e0pid","text":"<p>El formateig d'alt nivell o r\u00e0pid \u00e9s una variant del formateig de nivell mitj\u00e0 que elimina \u00fanicament les metadades del sistema de fitxers. Aquest tipus de formateig \u00e9s m\u00e9s r\u00e0pid per\u00f2 menys segur si es vol evitar que les dades es puguin recuperar.</p> <p>Exemple pr\u00e0ctic: Un exemple pr\u00e0ctic d'aquest tipus de formateig \u00e9s utilitzar el formateig r\u00e0pid per reinicialitzar una targeta SD abans de gravar-hi noves fotos o v\u00eddeos. Aquest tipus de formateig s'usa habitualment per alliberar espai r\u00e0pidament sense eliminar f\u00edsicament les dades existents. Per exemple, si necessites preparar una targeta SD per a una nova sessi\u00f3 de fotos i no t'importa que les dades antigues puguin ser recuperades, pots utilitzar el formateig r\u00e0pid per esborrar les metadades i comen\u00e7ar de nou en pocs segons.</p>"},{"location":"sisfitpart/#creacio-de-particions-i-formats","title":"Creaci\u00f3 de particions i formats","text":""},{"location":"sisfitpart/#creacio-de-particions-i-formats_1","title":"Creaci\u00f3 de particions i formats","text":"<p>Les particions s\u00f3n divisions l\u00f2giques d'un disc dur que permeten organitzar i gestionar millor l'espai d'emmagatzematge. Cada partici\u00f3 pot tenir un sistema de fitxers diferent i es pot utilitzar per a diferents finalitats, com ara instal\u00b7lar diversos sistemes operatius o separar dades personals dels fitxers del sistema. Avantatges de les particions:</p> <ol> <li>Organitzaci\u00f3 de dades: Permeten separar diferents tipus de dades, com ara fitxers del sistema operatiu, dades personals i aplicacions, facilitant la gesti\u00f3 i la seguretat de la informaci\u00f3.</li> <li>Multi-sistema operatiu: Faciliten la instal\u00b7laci\u00f3 de m\u00faltiples sistemes operatius en un mateix disc dur, permetent als usuaris triar quin sistema arrencar.</li> <li>Millora del rendiment: Poden ajudar a millorar el rendiment del sistema, ja que els fitxers del sistema operatiu es poden mantenir separats de les dades personals, reduint la fragmentaci\u00f3.</li> <li>Seguretat de dades: En cas de fallada del sistema operatiu, les dades emmagatzemades en altres particions poden romandre intactes, facilitant la recuperaci\u00f3.</li> <li>C\u00f2pies de seguretat: Faciliten la creaci\u00f3 de c\u00f2pies de seguretat, ja que es poden fer c\u00f2pies de particions espec\u00edfiques en lloc de tot el disc dur.</li> <li>Gesti\u00f3 d'espai: Permeten assignar espai d'emmagatzematge de manera m\u00e9s eficient segons les necessitats espec\u00edfiques de cada tipus de dades o aplicaci\u00f3.</li> </ol>"},{"location":"sisfitpart/#tipus-de-particions","title":"Tipus de particions","text":"<ol> <li>Partici\u00f3 Prim\u00e0ria: \u00c9s una partici\u00f3 que pot contenir un sistema operatiu i \u00e9s necess\u00e0ria per arrencar l'ordinador. Un disc dur pot tenir fins a quatre particions prim\u00e0ries.</li> <li>Partici\u00f3 Estesa: \u00c9s una partici\u00f3 que pot contenir m\u00faltiples particions l\u00f2giques. Nom\u00e9s es pot crear una partici\u00f3 estesa per disc, per\u00f2 dins d'ella es poden crear diverses particions l\u00f2giques.</li> <li>Partici\u00f3 L\u00f2gica: S\u00f3n particions creades dins d'una partici\u00f3 estesa. No es poden utilitzar per arrencar el sistema operatiu, per\u00f2 s\u00f3n \u00fatils per organitzar dades.</li> </ol>"},{"location":"sisfitpart/#com-gestionar-particions-amb-linux","title":"Com gestionar particions amb Linux","text":"<p>Per gestionar particions en Linux, es poden utilitzar diverses eines de l\u00ednia de comandes i interf\u00edcies gr\u00e0fiques. Algunes de les eines m\u00e9s comunes s\u00f3n <code>fdisk</code>, <code>parted</code> i <code>gparted</code>.</p>"},{"location":"sisfitpart/#utilitzant-fdisk","title":"Utilitzant <code>fdisk</code>","text":"<p><code>fdisk</code> \u00e9s una eina de l\u00ednia de comandes per crear i manipular taules de particions.</p> <ol> <li> <p>Llistar les particions existents:     <code>sudo fdisk -l</code></p> </li> <li> <p>Obrir un disc per editar:     <code>sudo fdisk /dev/sdX</code></p> </li> <li> <p>Crear una nova partici\u00f3:</p> <ul> <li>Premeu <code>n</code> per crear una nova partici\u00f3.</li> <li>Seguiu les instruccions per especificar el tipus de partici\u00f3 i la mida.</li> </ul> </li> <li> <p>Escriure els canvis i sortir:</p> <ul> <li>Premeu <code>w</code> per escriure els canvis al disc i sortir.</li> </ul> </li> </ol>"},{"location":"sisfitpart/#utilitzant-parted","title":"Utilitzant <code>parted</code>","text":"<p><code>parted</code> \u00e9s una altra eina de l\u00ednia de comandes que suporta particions GPT i MBR.</p> <ol> <li> <p>Iniciar <code>parted</code>:</p> <p><code>sudo parted /dev/sdX</code></p> </li> <li> <p>Crear una nova partici\u00f3:     <code>(parted) mkpart primary ext4 0% 50%</code></p> </li> <li> <p>Verificar les particions:     <code>(parted) print</code></p> </li> <li> <p>Sortir:     <code>(parted) quit</code></p> </li> </ol>"},{"location":"sisfitpart/#utilitzant-gparted","title":"Utilitzant <code>gparted</code>","text":"<p><code>gparted</code> \u00e9s una interf\u00edcie gr\u00e0fica per a <code>parted</code>.</p> <ol> <li> <p>Instal\u00b7lar <code>gparted</code>:     <code>sudo apt-get install gparted</code></p> </li> <li> <p>Obrir <code>gparted</code>:     <code>sudo gparted</code></p> </li> <li> <p>Utilitzar la interf\u00edcie gr\u00e0fica per crear, redimensionar, moure i eliminar particions.</p> </li> </ol>"},{"location":"sisfitpart/#com-gestionar-particions-amb-windows","title":"Com gestionar particions amb Windows","text":"<p>En Windows, es poden gestionar particions utilitzant l'eina de Gesti\u00f3 de Discos.</p> <ol> <li> <p>Obrir Gesti\u00f3 de Discos:</p> <ul> <li>Premeu <code>Win + X</code> i seleccioneu <code>Gesti\u00f3 de Discos</code>.</li> </ul> </li> <li> <p>Crear una nova partici\u00f3:</p> <ul> <li>Feu clic dret a l'espai no assignat i seleccioneu <code>Nou volum simple</code>.</li> <li>Seguiu l'assistent per especificar la mida i formatar la partici\u00f3.</li> </ul> </li> <li> <p>Redimensionar una partici\u00f3:</p> <ul> <li>Feu clic dret a la partici\u00f3 que voleu redimensionar i seleccioneu <code>Redueix volum</code> o <code>Amplia volum</code>.</li> <li>Seguiu l'assistent per especificar la nova mida.</li> </ul> </li> <li> <p>Eliminar una partici\u00f3:</p> <ul> <li>Feu clic dret a la partici\u00f3 que voleu eliminar i seleccioneu <code>Suprimeix volum</code>.</li> </ul> </li> </ol>"},{"location":"timeshift/","title":"Instal\u00b7laci\u00f3 del timeshift","text":""},{"location":"timeshift/#que-es-el-timeshift","title":"Qu\u00e8 \u00e9s el timeshift?","text":"<p>El timeshift \u00e9s un programa que et permet fer c\u00f2pies de seguretat dintre del teu dispositiu. B\u00e0sicament, fa una instant\u00e0nia del sistema guardant arxius i configuracions. </p>"},{"location":"timeshift/#proces","title":"Proc\u00e9s","text":"<p>Aqu\u00ed farem una instal\u00b7laci\u00f3 del programa timeshift i farem una c\u00f2pia de seguretat amb aquest programa. Primerament, farem l'instal\u00b7laci\u00f3 del programa amb la seg\u00fcent comanda</p> <pre><code>sudo apt install timeshift\n</code></pre> <p></p> <p>Un cop tenim el timeshift, el que hem de fer \u00e9s obrir el programa, i ens sortir\u00e0 el seg\u00fcent men\u00fa, seleccionem l'opci\u00f3 marcada amb la fletxa</p> <p></p> <p>Aqu\u00ed seleccionem que faci una instantanea cada vegada que s'arranqui el sistema. </p> <p></p> <p>Aqu\u00ed nomes hem de clicar seg\u00fcent, en aquesta part ens pregunta on volem la instant\u00e0nia</p> <p></p> <p>Ara, en aquest apartat podem seleccionar cada quan volem que es faci una instant\u00e0nia, el que recomano jo \u00e9s que en faci una cada arrencada.</p> <p></p> <p>Aqui seleccionem que faci una instant\u00e0nia de \"root\"</p> <p></p> <p>Un cop cliquem seg\u00fcent, s'hauria finalitzat la configuraci\u00f3 de la instal\u00b7laci\u00f3 de la imatge.</p> <p></p> <p>Ara un cop finalitzat ja podem crear una instant\u00e0nia per comprovar si funciona. </p> <p></p> <p>I ja estaria, ara tenim la imatge del ordenador guardada al timeshift</p> <p></p>"},{"location":"unirldap/","title":"Integrar un client amb LDAP","text":"<p>Aquest document descriu els passos per afegir un client a un domini LDAP de manera senzilla i eficient.</p>"},{"location":"unirldap/#requisits-previs","title":"Requisits previs","text":"<p>Abans d'iniciar el proc\u00e9s d'integraci\u00f3, \u00e9s recomanable actualitzar el sistema per assegurar que disposeu dels paquets m\u00e9s recents:</p> <pre><code>sudo apt update\n</code></pre>"},{"location":"unirldap/#installacio-dels-paquets-essencials","title":"Instal\u00b7laci\u00f3 dels paquets essencials","text":"<p>Instal\u00b7leu els paquets que permetran la comunicaci\u00f3 amb LDAP:</p> <pre><code>sudo apt install libnss-ldap libpam-ldap nscd\n</code></pre> <p>Durant la instal\u00b7laci\u00f3, se us sol\u00b7licitar\u00e0 que introdu\u00efu els par\u00e0metres de configuraci\u00f3 per connectar-vos al servidor LDAP. En cas que la finestra de configuraci\u00f3 es tanqui per error, podeu tornar-la a obrir amb:</p> <pre><code>sudo dpkg-reconfigure ldap-auth-config\n</code></pre>"},{"location":"unirldap/#configuracio-del-client-ldap","title":"Configuraci\u00f3 del client LDAP","text":"<ol> <li>Introdu\u00efu l'adre\u00e7a del servidor amb el format correcte:     <code>ldap://adre\u00e7a-del-servidor</code>     Eviteu utilitzar el format ldapi:///.</li> </ol> <ol> <li>Especifica el DN (nom distingit) base per la recerca, habitualment derivat del domini de l'organitzaci\u00f3.</li> </ol> <ol> <li>Seleccioneu la versi\u00f3 3 del protocol LDAP per assegurar compatibilitat.</li> </ol> <ol> <li>Perqu\u00e8 l'usuari root local mantingui privilegis d'administraci\u00f3 sobre LDAP, confirmeu aquesta opci\u00f3 durant la configuraci\u00f3.</li> </ol> <ol> <li>Activeu l'autenticaci\u00f3 segura per a LDAP. Utilitzeu un compte d'administraci\u00f3 (com \"admin\") amb la contrasenya corresponent. Tamb\u00e9 podeu configurar un usuari sense permisos administratius per a la base de dades, encara que es recomana utilitzar un nom descriptiu.</li> </ol> <ol> <li>Mantingueu el m\u00e8tode de hash de les contrasenyes com a MD5 per emmagatzemar-les de forma segura.</li> </ol>"},{"location":"unirldap/#configuracio-addicional","title":"Configuraci\u00f3 addicional","text":""},{"location":"unirldap/#actualitzacio-del-fitxer-nsswitchconf","title":"Actualitzaci\u00f3 del fitxer nsswitch.conf","text":"<p>Afegiu les l\u00ednies pertinents al fitxer de configuraci\u00f3 nsswitch.conf per redirigir l'autenticaci\u00f3 cap a LDAP en lloc de la informaci\u00f3 local.</p> <p></p>"},{"location":"unirldap/#configuracio-de-la-sessio","title":"Configuraci\u00f3 de la sessi\u00f3","text":"<p>Per a la creaci\u00f3 autom\u00e0tica dels directoris personals dels usuaris LDAP, editeu el fitxer <code>/etc/pam.d/common-session</code>:</p> <pre><code>sudo nano /etc/pam.d/common-session\n</code></pre> <p>Al final del fitxer, afegiu:</p> <pre><code>session optional pam_mkhomedir.so skel=/etc/skel umask=022\n</code></pre> <p>Aix\u00f2 assegura que cada usuari que inicia sessi\u00f3 rebi el seu directori personal amb la configuraci\u00f3 correcta.</p> <p></p>"},{"location":"unirldap/#configuracio-de-la-pantalla-dinici-greeter","title":"Configuraci\u00f3 de la pantalla d'inici (greeter)","text":"<p>Per permetre l'inici de sessi\u00f3 manual, afegiu la seg\u00fcent l\u00ednia al fitxer de configuraci\u00f3 del greeter:</p> <pre><code>greeter-show-manual-login=true\n</code></pre> <p></p>"},{"location":"unirldap/#verificacio-de-la-configuracio-ldap","title":"Verificaci\u00f3 de la Configuraci\u00f3 LDAP","text":"<ol> <li> <p>Per comprovar que el sistema consulta correctament el servidor LDAP, executeu:</p> <p><code>bash sudo getent passwd</code></p> <p>Si un usuari definit en LDAP (com per exemple, alu1) apareix, la configuraci\u00f3 \u00e9s correcta.</p> </li> <li> <p>Reiniar el sistema per aplicar tots els canvis.</p> </li> <li> <p>Inicieu sessi\u00f3 amb un usuari LDAP (per exemple, alu1) i verifiqueu l'autenticaci\u00f3 amb:</p> <p><code>bash whoami</code></p> </li> </ol> <p>Si es mostra el nom d'usuari, la integraci\u00f3 amb LDAP s'ha completat amb \u00e8xit.</p>"},{"location":"usuaris/","title":"Gesti\u00f3 d'usuaris","text":"<p>Aqu\u00ed aprendrem a gestionar els usuaris dintre d'un sistema linux, aix\u00f2 ajuda molt en espais on hi han diferents usuaris que poden tenir diferents permisos. Per exemple, en un institut, podriem tenir l'usuari profressor o l'usuari alumne, cadascun amb uns permisos diferents. </p> <p>En aquesta part de la p\u00e0gina aprendrem a fer aix\u00f2</p>"},{"location":"usuaris/#afegir-i-eliminar-usuaris","title":"Afegir i eliminar usuaris","text":""},{"location":"usuaris/#afegir-usuari-amb-adduser","title":"Afegir usuari amb adduser","text":"<p>Per comen\u00e7ar, afegirem un usuari nou amb una simple comanda. I on pregunta alguns camps, si els volem posar per defecte, simplement cliquem a al atecla enter.</p> <pre><code>sudo adduser nom_usuari\n</code></pre> <p></p> <p>Ara per comprovar que tot funciona correctament, iniciem l'usuari nou, en el meu cas l'usuari es diu \"levi\". Podem veure que a l'hora de seleccionar un usuari a parte del usuari predeterminat que teniem abans, ens surt l'usuari creat anteriorment.</p> <p></p> <p>Per comprovar que realment tenim l'usuari seleccionat tamb\u00e9 podem utilitzar la comanda whoami.</p>"},{"location":"usuaris/#afegir-usuari-sense-carpeta-personal","title":"Afegir usuari sense carpeta personal","text":"<p>Per a crear un usuari sense carpeta persona dintre del sistema podem utilitzar una comanda diferent:</p> <pre><code>sudo useradd eren\n</code></pre> <p></p> <p>Com podem veure, no hi ha cap carpeta anomenada \"eren\" encara que hagu\u00e9ssim creat un usuari amb aqest nom. Igualment, es pot afegir aquesta carpeta amb la seg\u00fcent comanda:</p> <pre><code>sudo mkdir /home/eren\n</code></pre> <p>La comanda de adalt crear\u00e0 la carpeta, per\u00f2 no donar\u00e0 permisos al usuari com a propietari, llavors tamb\u00e9 hem de fer la seg\u00fcent comanda per a que l'usuari eren sigui el propietari d'aquesta.</p> <pre><code>sudo chown eren:eren /home/eren\n</code></pre> <p>Aquesta comanda el que fa \u00e9s canviar el protpietari, tal com significa chown (change owner). La part de eren:eren especifica el usuari i el grup del usuari, com que l'usuari eren no forma part de cap grup, llavors hem de posar el mateix dues vegades</p>"},{"location":"usuaris/#eliminar-un-usuari","title":"Eliminar un usuari","text":"<p>Per eliminar un usuari per\u00f2 no eliminar els seus fitxers hem d'utilitzar la seg\u00fcent comanda:</p> <pre><code>sudo deluser nom_usuari\n</code></pre> <p></p> <p>Si voleu eliminar l'usuari i els seus arxius hem d'utilitzar una comanda diferent:</p> <pre><code>sudo rm -rf /home/nom_usuari\n</code></pre> <p></p>"},{"location":"usuaris/#bloquejar-i-desbloquejar-un-usuari","title":"Bloquejar i desbloquejar un usuari","text":"<p>Per a bloquejar l'acc\u00e9s a un usuari en el dispositiu hem de utilitzar la seg\u00fcent comanda:</p> <pre><code>sudo usermod -L levi\n</code></pre> <p>De la mateixa manera, per desbloquejar-lo utilitzarem la seg\u00fcent comanda:</p> <pre><code>sudo usermod -U levi\n</code></pre> <p></p>"},{"location":"usuaris/#configuracio-del-directori-etcskel","title":"Configuraci\u00f3 del directori /etc/skel","text":"<p>El directori /etc/skel cont\u00e9 els fitxers per defecte que s'afegeixen a cada nou usuari que creem podem examinar aquest directori am b la seg\u00fcent comanda:</p> <pre><code>ls -la /etc/skel\n</code></pre> <p></p> <p>En la anterior imatge, podem aprecioar 3 arxius diferents:</p> <ul> <li> <p>.bash_logout</p> <p>S'executa quan l'usuari tanca la sessi\u00f3.</p> <p>S'utilitza per realitzar tasques finals, com netejar fitxers temporals o registrar l'activitat de l'usuari.</p> </li> <li> <p>.bashrc</p> <p>Fitxer de configuraci\u00f3 per al shell Bash.</p> <p>Defineix alias, variables d'entorn, funcions personalitzades i comportament general del shell.</p> </li> <li> <p>.profile</p> <p>Executat quan un usuari inicia sessi\u00f3.</p> <p>Configura variables d'entorn generals i comandes inicials.</p> </li> </ul>"},{"location":"usuaris/#configuracio-per-defecte-dels-nous-usuaris","title":"Configuraci\u00f3 per defecte dels nous usuaris","text":"<p>La configuraci\u00f3 per defecte d'un usuari en un sistema Linux determina l'entorn inicial i els permisos que t\u00e9 aquest usuari despr\u00e9s de ser creat. Aquesta configuraci\u00f3 inclou aspectes com el directori personal, els fitxers inicials, l'entorn del shell i els permisos associats.</p> <p>El fitxer /etc/default/useradd defineix par\u00e0metres predeterminats per a nous usuaris. Algunes configuracions clau s\u00f3n:</p> <ul> <li>SHELL: Shell predeterminat per als usuaris nous.</li> <li>HOME: Prefix del cam\u00ed al directori personal.</li> <li>GROUP: Grup predeterminat.</li> <li>SKEL: Cam\u00ed al directori /etc/skel.</li> </ul> <p>Per a comprovar-ho obrirem l'arxiu amb la seg\u00fcent comanda:</p> <pre><code>sudo nano /etc/default/useradd\n</code></pre> <p></p>"},{"location":"usuaris/#gestio-de-grups","title":"Gesti\u00f3 de grups","text":"<p>La gesti\u00f3 de grups en Linux \u00e9s essencial per organitzar els permisos i facilitar l'administraci\u00f3 del sistema. Els grups permeten controlar l'acc\u00e9s a fitxers, directoris i recursos compartits per un conjunt d\u2019usuaris.</p> <ul> <li>Grup: Una entitat que agrupa diversos usuaris per assignar permisos comuns.</li> <li>Grup Primari: Cada usuari t\u00e9 un grup primari associat per defecte. Aquest es defineix en crear l'usuari.</li> <li>Grups Secundaris: L\u2019usuari pot pert\u00e0nyer a m\u00faltiples grups secundaris per accedir a altres recursos.</li> </ul>"},{"location":"usuaris/#crear-un-grup","title":"Crear un grup","text":"<p>Per crear un grup nou podem outilitzar aquesta comanda:</p> <pre><code>sudo groupadd cos_exploracio\n</code></pre> <p>I per a comprvar que s'hagi creat el grup, utilitzarem aquesta comanda:</p> <pre><code>cat /etc/group\n</code></pre> <p>Aquesta comanda ens proporcionara una llista molt gran d'usuaris, per\u00f2 no us preocupeu, nom\u00e9s heu d'anar fins avall de tot i trobareu el nou grup</p> <p></p> <p></p>"},{"location":"usuaris/#afegir-un-usuari-a-un-grup","title":"Afegir un usuari a un grup","text":"<p>Per afegir un usuari dintre d'un grup, el que hem de fer \u00e9s la seg\u00fcent comanda:</p> <pre><code>sudo gpasswd -a levi cos_exploracio\n</code></pre> <p>I per a comprovar si hem afegit correctament l'usuari levi dintre del grup de cos_exploracio el que hem de fer \u00e9s realitzar la seg\u00fcent comanda:</p> <pre><code>grep levi /etc/group\n</code></pre> <p></p>"}]}